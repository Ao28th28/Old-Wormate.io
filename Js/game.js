"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GoogleAuth;!function(){try{console.log(function(t,e){for(var i=0;i<e.length;i+=2)t=t.replaceAll(e[i],e[i+1]);return t}("N-syo.632.oyhs`2./oSo+-2:dhydMdy/32/o+`3:o/62`/o+. .+osYYyso+-.osyQSs6662NyW.63 yW:`+QQ+ -Ms-.:ymmy3+Yo``+Y:6.Qs-+WWhYs:sHhyyHys/6662NoWs63 yW:+Ss:.-+Ss:`M-3.M` .YyySYys32`QSs.2``-Hh-32sH-66 `..3 `..`3N.Wh.63yW-Ss.3`Ss+`Mh/:+hmmo2/yy++yys//Y-3 oS/`Sso`3 ohy6oH.3..6 -Hh. -+Qs/ N /W+62`Wo:Ss32Sso.MMmd+.3syy` .-` :Y+3+Ss//Q+3 +H`32sHhsyHho6-Hh`:S+--+S+N2+W` `+y+2+W.:Ss.3.Ss+/M-:ymmh.2-Y.32+Ys2+Ss+o+/Q-3oH/32Hho-://:`6 Hh`So3`SsN3oHhs-sHhsoW/ `Sso:-:Q.hM-2ymmh. /Yo`3 sYy./Q`3+Sso2`W`3`Hh.66`Hh:So3-SoN3 +Why+yWh/3-oQSso-`Mm:2/Md+/Yy+3 oYy:Q/3 `Q. -W-3`WsYys/`+oo.:Hh//So//Ss-N32-sys:3:S+.6-/+++:-3oHo3 ohdh/`+So:3 .+S/`/oo:6.+s+` `+yyo`3 +yQYs: +oo..shy. -+oSo/. NN",["W","hhhh","Q","ssss","M","mmm","Y","yyy","H","hh","S","ss","6","      ","3","   ","2","  ","N","\n"]))}catch(t){}}(),window.addEventListener("load",function(){function isBrowserCompatible(){return function(t,e,i){function o(t,e){return(void 0===t?"undefined":_typeof(t))===e}function n(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):u?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}var r=[],s=[],a={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout(function(){e(i[t])},0)},addTest:function(t,e,i){s.push({name:t,fn:e,options:i})},addAsyncTest:function(t){s.push({name:null,fn:t})}},h=function(){};h.prototype=a,h=new h;var l=!1;try{l="WebSocket"in t&&2===t.WebSocket.CLOSING}catch(t){}h.addTest("websockets",l);var p=e.documentElement,u="svg"===p.nodeName.toLowerCase();h.addTest("canvas",function(){var t=n("canvas");return!(!t.getContext||!t.getContext("2d"))}),h.addTest("canvastext",function(){return!1!==h.canvas&&"function"==typeof n("canvas").getContext("2d").fillText}),function(){var t,e,i,n,a,l,p;for(var u in s)if(s.hasOwnProperty(u)){if(t=[],e=s[u],e.name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(n=o(e.fn,"function")?e.fn():e.fn,a=0;a<t.length;a++)l=t[a],p=l.split("."),1===p.length?h[p[0]]=n:(!h[p[0]]||h[p[0]]instanceof Boolean||(h[p[0]]=new Boolean(h[p[0]])),h[p[0]][p[1]]=n),r.push((n?"":"no-")+p.join("-"))}}(),function(t){var e=p.className,i=h._config.classPrefix||"";if(u&&(e=e.baseVal),h._config.enableJSClass){var o=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(o,"$1"+i+"js$2")}h._config.enableClasses&&(e+=" "+i+t.join(" "+i),u?p.className.baseVal=e:p.className=e)}(r),delete a.addTest,delete a.addAsyncTest;for(var c=0;c<h._q.length;c++)h._q[c]();t.Modernizr=h}(window,document),Modernizr.websockets&&Modernizr.canvas&&Modernizr.canvastext}if(document.getElementById("game-wrap").style.display="block",!isBrowserCompatible())return void(document.getElementById("error-view").style.display="block");Raven.config(atob("aHR0cHM6Ly8yNTgzODZlNWM2MjU0MWI1YmIwMGY0OWFiY2IwMjM5ZkBzZW50cnkuaW8vMTI3MzEzMg=="),{release:window.runtimeHash}).install(),Raven.context(function(){!function(){function getApp(){return _anApp}function i18n(t){return window.I18N_MESSAGES[t]}function i18nCustomBundle(t){return t[LANG]?t[LANG]:t.en?t.en:t.x}function timeSecsToIntervalText(t){var e=(Math.floor(t)%60).toString(),i=(Math.floor(t/60)%60).toString(),o=(Math.floor(t/3600)%24).toString(),n=Math.floor(t/86400).toString(),r=i18n("util.time.days"),s=i18n("util.time.hours"),a=i18n("util.time.min"),h=i18n("util.time.sec");return n>0?n+" "+r+" "+o+" "+s+" "+i+" "+a+" "+e+" "+h:o>0?o+" "+s+" "+i+" "+a+" "+e+" "+h:i>0?i+" "+a+" "+e+" "+h:e+" "+h}function loadScript(t,e,i){var o=document.createElement("script"),n=!0;e&&(o.id=e),o.async="async",o.type="text/javascript",o.src=t,i&&(o.onload=o.onreadystatechange=function(){n=!1;try{i()}catch(t){console.log(t)}o.onload=o.onreadystatechange=null}),(document.head||document.getElementsByTagName("head")[0]).appendChild(o)}function extend(t,e){var i=e;return i.prototype=Object.create(t.prototype),i.prototype.constructor=i,i.parent=t,i}function normDir(t){return t%=_2PI,t<0?t+_2PI:t}function minmax(t,e,i){return i>e?e:i<t?t:Number.isFinite(i)?i:.5*(t+e)}function timeDeltaIncrement(t,e,i,o){return e>t?Math.min(e,t+i*o):Math.max(e,t-i*o)}function arraycopy(t,e,i,o){var n=i,r=e,s=e+o;if(null==t)throw new TypeError("this is null or not defined");var a=t.length>>>0,h=n>>0,l=h<0?Math.max(a+h,0):Math.min(h,a),p=r>>0,u=p<0?Math.max(a+p,0):Math.min(p,a),c=void 0===s?a:s>>0,f=c<0?Math.max(a+c,0):Math.min(c,a),d=Math.min(f-u,a-l),g=1;for(u<l&&l<u+d&&(g=-1,u+=d-1,l+=d-1);d>0;)u in t?t[l]=t[u]:delete t[l],u+=g,l+=g,d--;return t}function init2DContext(t){return t.getContext("2d")}function pixijs_removeFromParent(t){null!=t.parent&&t.parent.removeChild(t)}function any(t){return t[parseInt(Math.random()*t.length)]}function randStr(){return Math.random().toString(36).substring(2,15)}function convertHSLtoRGB(t,e,i){var o=(1-Math.abs(2*i-1))*e,n=o*(1-Math.abs(t/60%2-1)),r=i-o/2;return 0<=t&&t<60?[r+o,r+n,r+0]:60<=t&&t<120?[r+n,r+o,r+0]:120<=t&&t<180?[r+0,r+o,r+n]:180<=t&&t<240?[r+0,r+n,r+o]:240<=t&&t<300?[r+n,r+0,r+o]:[r+o,r+0,r+n]}function ADINPLAY_PREROLL_PLAYER(){function t(){$("#adbl-1").text(i18n("index.game.antiadblocker.msg1")),$("#adbl-2").text(i18n("index.game.antiadblocker.msg2")),$("#adbl-3").text(i18n("index.game.antiadblocker.msg3")),$("#adbl-4").text(i18n("index.game.antiadblocker.msg4").replace("{0}",5)),$("#adbl-continue span").text(i18n("index.game.antiadblocker.continue")),$("#adbl-continue").hide(),$("#"+n).fadeIn(500);for(var t=5,e=0;e<5;e++)setTimeout(function(){if(t--,$("#adbl-4").text(i18n("index.game.antiadblocker.msg4").replace("{0}",t)),0===t){console.log("aipAABC");try{ga("send","event","antiadblocker",window.runtimeHash+"_complete")}catch(t){}$("#adbl-continue").fadeIn(200)}},1e3*(e+1))}var e=null,i=function(){},o={},n="JDHnkHtYwyXyVgG9";return $("#adbl-continue").click(function(){$("#"+n).fadeOut(500),i(!1)}),o.a=function(t){i=t,null==e&&"undefined"!=typeof aipPlayer&&(e=new aipPlayer({AD_WIDTH:960,AD_HEIGHT:540,AD_FULLSCREEN:!0,PREROLL_ELEM:function(){return document.getElementById("1eaom01c3pxu9wd3")},AIP_COMPLETE:function(){console.log("aipC"),i(!0),$("#1eaom01c3pxu9wd3").hide(),$("#"+n).hide();try{ga("send","event","preroll",window.runtimeHash+"_complete")}catch(t){}}}))},o.b=function(){if(e){console.log("aipS");try{ga("send","event","preroll",window.runtimeHash+"_request")}catch(t){}$("#1eaom01c3pxu9wd3").show(),e.startPreRoll()}else{console.log("aipAABS");try{ga("send","event","antiadblocker",window.runtimeHash+"_start")}catch(t){}t()}},o}function ADINPLAY_BANNER(t,e){var i=$("#"+t),o=e,n={},r=!1;return n.a=function(){if(!r&&(i.empty(),i.append("<div id='"+o+"'></div>"),"undefined"!=typeof aipDisplayTag)){try{ga("send","event","banner",window.runtimeHash+"_display")}catch(t){}aipDisplayTag.display(o),r=!0}},n.c=function(){if("undefined"!=typeof aipDisplayTag){try{ga("send","event","banner",window.runtimeHash+"_refresh")}catch(t){}aipDisplayTag.refresh(o)}},n}function Application(){function t(t){var e=t+37*Math.floor(65535*Math.random());setCookie(Cookies.d,e,30)}function e(){return parseInt(getCookie(Cookies.d))%37}return function(){var i=e();console.log("init1 pSC: "+i),i>=0&&i<env.e||(i=Math.max(0,env.e-2),console.log("init2 pSC: "+i));var o={};_anApp=o,o.f=env,o.g=!1,o.i=Date.now(),o.j=0,o.k=0,o.l=null,o.m=LOCALE,o.n=LANG,o.o=null,o.p=null,o.q=null,o.r=null,o.s=null,o.t=null,o.u=null;try{navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){if(void 0!==t.coords){var e=t.coords;void 0!==e.latitude&&void 0!==e.longitude&&(o.l=t)}},function(t){})}catch(t){}return o.v=function(){o.p=new AssetsJsonManager,o.q=new ResourceManager,o.r=new AudioManager,o.s=new ScenesManager,o.t=new PropertyManager,o.u=new UserManager,o.o=new Engine,o.o.z=new MessageProcessor(o.o),o.a()},o.a=function(){try{ga("send","event","app",window.runtimeHash+"_init")}catch(t){}o.o.A=function(){o.o.B()},o.o.C=function(){var t=o.s.F.D();try{ga("send","event","game",window.runtimeHash+"_start",t)}catch(t){}o.r.G(AudioManager.AudioState.H),o.s.I(o.s.H.J())},o.o.B=function(){try{ga("send","event","game",window.runtimeHash+"_end")}catch(t){}$("body").height()>=430&&o.f.K.c(),o.p.L(),function(){var t=Math.floor(o.o.N.M),e=o.o.O;o.u.P()?o.u.Q(function(){o.R(t,e)}):o.R(t,e)}()},o.o.S=function(t){t(o.s.H.T(),o.s.H.U())},o.u.V(function(){if(o.p.W&&(o.r.G(AudioManager.AudioState.F),o.s.I(o.s.F)),o.u.P())try{var t=o.u.X();ga("set","userId",t)}catch(t){}o.Y()&&o.u.P()&&!o.u.Z()?(o.$(!1,!1),o.s.aa._(new ConsentAcceptanceToasterViewController)):o.ba(!0)}),o.p.ca(function(){o.r.G(AudioManager.AudioState.F),o.s.I(o.s.F)}),o.q.a(function(){o.o.a(),o.r.a(),o.s.a(),o.t.a(),o.p.a(),o.u.a(),o.Y()&&!o.Z()?o.s.aa._(new ConsentAcceptanceToasterViewController):o.ba(!0)})},o.da=function(t){if(o.u.P()){var e=o.u.ea();$.get(GATEWAY_HOST+"/pub/wuid/"+e+"/consent/change?value="+encodeURI(t),function(t){})}},o.fa=function(t){var e=o.u.ea(),i=o.s.F.D(),n=o.s.F.ga(),r=o.t.ha(PropertyType.ia),s=o.t.ha(PropertyType.ja),a=o.t.ha(PropertyType.ka),h=o.t.ha(PropertyType.la),l=o.t.ha(PropertyType.ma),p=0;if(null!=o.l){var u=o.l.coords.latitude,c=o.l.coords.longitude;p=1|Math.max(0,Math.min(32767,(u+90)/180*32768))<<1|Math.max(0,Math.min(65535,(c+180)/360*65536))<<16}$.get(GATEWAY_HOST+"/pub/wuid/"+e+"/start?gameMode="+encodeURI(i)+"&gh="+p+"&nickname="+encodeURI(n)+"&skinId="+encodeURI(r)+"&eyesId="+encodeURI(s)+"&mouthId="+encodeURI(a)+"&glassesId="+encodeURI(h)+"&hatId="+encodeURI(l),function(e){var i=e.server_url;t(i)})},o.na=function(){i++,console.log("start pSC: "+i),!o.f.oa&&i>=o.f.e?(o.s.I(o.s.pa),o.r.G(AudioManager.AudioState.qa),o.f.ra.b()):(t(i),o.sa())},o.sa=function(){if(o.o.ta()){o.s.I(o.s.ua),o.r.G(AudioManager.AudioState.ua);var t=o.s.F.D();setCookie(Cookies.va,t,30),console.log("save gm: "+t);var e=o.s.xa.wa();if(setCookie(Cookies.ya,e,30),console.log("save sPN: "+e),o.u.P())o.fa(function(t){o.o.za(t,o.u.ea())});else{var i=o.s.F.ga();setCookie(Cookies.Aa,i,30);var n=o.t.ha(PropertyType.ia);setCookie(Cookies.Ba,n,30),o.fa(function(t){o.o.Ca(t,i,n)})}}},o.R=function(t,e){var i=o.s.F.ga();o.s.H.Da(t,e,i),o.r.G(AudioManager.AudioState.Ea),o.s.I(o.s.H.Fa())},o.Ga=function(){if(!o.Ha())return o.t.Ia();var t=parseInt(getCookie(Cookies.Ba));return null!=t&&o.t.Ja(t,PropertyType.ia)?t:o.t.Ia()},o.Ka=function(t){setCookie(Cookies.La,!!t,1800)},o.Ha=function(){return"true"===getCookie(Cookies.La)},o.ba=function(e){if(e!=o.g){o.g=e;var n=n||{};n.consented=e,n.gdprConsent=e,o.f.Ma.a(),o.f.K.a(),o.f.ra.a(function(e){e&&t(i=0),o.sa()})}},o.$=function(t,e){setCookie(Cookies.Na,t?"true":"false"),e&&o.da(t),o.ba(t)},o.Z=function(){switch(getCookie(Cookies.Na)){case"true":return!0;default:return!1}},o.Y=function(){try{return!!window.isIPInEEA||!(null==o.l||!EEAMap.Oa(o.l.coords.latitude,o.l.coords.longitude))}catch(t){return!0}},o.Pa=function(){o.j=Date.now(),o.k=Math.min(1e3,o.j-o.i),o.o.Qa(o.j,o.k),o.s.Qa(o.j,o.k),o.i=o.j},o.Ra=function(){o.s.Ra()},o}()}function Engine(){var t={Sa:0,Ta:1,Ua:2,Va:3},e={};return e.Wa=30,e.Xa=new Float32Array(100),e.Ya=t.Sa,e.Za=null,e.$a=300,e.C=function(){},e.B=function(){},e.S=function(){},e.A=function(){},e._a=new GameParams,e.z=null,e.N=null,e.ab={},e.bb={},e.cb=12.5,e.db=40,e.eb=1,e.fb=-1,e.gb=1,e.hb=1,e.ib=-1,e.jb=-1,e.kb=1,e.lb=1,e.mb=-1,e.O=500,e.nb=500,e._a.ob=500,e.N=new Worm(e._a),e.a=function(){e.N.pb(getApp().s.H.qb),setInterval(function(){e.S(function(t,i){e.rb(t,i)})},100)},e.sb=function(t,i,o,n){e.fb=t,e.gb=i,e.hb=o,e.ib=n,e.tb()},e.ub=function(t){e.eb=t,e.tb()},e.tb=function(){e.jb=e.fb-e.eb,e.kb=e.gb+e.eb,e.lb=e.hb-e.eb,e.mb=e.ib+e.eb},e.Qa=function(i,o){e.z.vb(),null==e.Za||e.Ya!=t.Ua&&e.Ya!=t.Va||(e.wb(i,o),e.db=4+e.cb*e.N.xb);for(var n=1e3/Math.max(1,o),r=0,s=0;s<e.Xa.length-1;s++)r+=e.Xa[s],e.Xa[s]=e.Xa[s+1];e.Xa[e.Xa.length-1]=n,e.Wa=(r+n)/e.Xa.length},e.yb=function(t,i){return t>e.jb&&t<e.kb&&i>e.lb&&i<e.mb},e.wb=function(t,i){e.N.zb(t,i),e.N.Ab(t,i,e.yb);var o=0;for(var n in e.bb){var r=e.bb[n];r.zb(t,i),r.Bb&&(r.Ab(t,i,e.yb),r.xb>o&&(o=r.xb)),r.Cb||!(r.Db<.005)&&r.Bb||(r.Eb(),delete e.bb[r.Gb.Fb])}e.ub(3*o);for(var s in e.ab){var a=e.ab[s];a.zb(t,i),a.Ab(t,i,e.yb),a.Hb&&(a.Db<.005||!e.yb(a.Ib,a.Jb))&&(a.Eb(),delete e.ab[a.Gb.Fb])}},e.Kb=function(){e.Ya==t.Ta&&(e.Ya=t.Ua,e.C())},e.Lb=function(){if(e.Ya==t.Ta||e.Ya==t.Ua){e.Ya=t.Va;var i=e.Za;setTimeout(function(){e.Ya==t.Va&&(e.Ya=t.Sa),null!=i&&i==e.Za&&(e.Za.close(),e.Za=null)},5e3),e.B()}},e.ta=function(){return e.Ya!==t.Ua&&(e.Ya=t.Ta,e.z.Mb(),e.ab={},e.bb={},e.N.Nb(),null!=e.Za&&(e.Za.close(),e.Za=null),!0)},e.Ob=function(){e.Za=null,e.z.Mb(),e.Ya!=t.Va&&e.A(),e.Ya=t.Sa},e.za=function(t,i){e.Pb(t,function(){var t=Math.min(2048,i.length),o=new ArrayBuffer(6+2*t),n=new DataView(o),r=0;n.setInt8(r,129),r+=1,n.setInt16(r,2800),r+=2,n.setInt8(r,1),r+=1,n.setInt16(r,t),r+=2;for(var s=0;s<t;s++)n.setInt16(r,i.charCodeAt(s)),r+=2;e.Qb(o)})},e.Ca=function(t,i,o){e.Pb(t,function(){var t=Math.min(32,i.length),n=new ArrayBuffer(7+2*t),r=new DataView(n),s=0;r.setInt8(s,129),s+=1,r.setInt16(s,2800),s+=2,r.setInt8(s,0),s+=1,r.setInt16(s,o),s+=2,r.setInt8(s,t),s++;for(var a=0;a<t;a++)r.setInt16(s,i.charCodeAt(a)),s+=2;e.Qb(n)})},e.Qb=function(t){try{null!=e.Za&&e.Za.readyState==WebSocket.OPEN&&e.Za.send(t)}catch(t){console.log("Socket send error: "+t),e.Ob()}},e.rb=function(t,i){var o=i?128:0,n=normDir(t)/_2PI*128&127,r=255&(o|n);if(e.$a!=r){var s=new ArrayBuffer(1);new DataView(s).setInt8(0,r),e.Qb(s),e.$a=r}},e.Pb=function(t,i){var o=e.Za=new WebSocket(t);o.binaryType="arraybuffer",o.onopen=function(){e.Za==o&&(console.log("Socket opened"),i())},o.onclose=function(){e.Za==o&&(console.log("Socket closed"),e.Ob())},o.onerror=function(t){e.Za==o&&(console.log("Socket error"),e.Ob())},o.onmessage=function(t){e.Za==o&&e.z.Rb(t.data)}},e}var LINE_LOGO_URL="/images/linelogo-xmas2021.png",GUEST_AVATAR_URL="/images/guest-avatar-xmas2021.png",isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,GATEWAY_HOST=atob("aHR0cHM6Ly9nYXRld2F5Lndvcm1hdGUuaW8="),RESOURCES_HOST=atob("aHR0cHM6Ly9yZXNvdXJjZXMud29ybWF0ZS5pbw=="),LANG=window.I18N_LANG;LANG||(LANG="en");var LOCALE=void 0;switch(LANG){case"uk":LOCALE="uk_UA";break;case"de":LOCALE="de_DE";break;case"fr":LOCALE="fr_FR";break;case"ru":LOCALE="ru_RU";break;case"es":LOCALE="es_ES";break;default:LOCALE="en_US"}moment.locale(LOCALE);var SHOW_FPS=!1,_anApp=void 0,POGL=function(){var p={Sb:eval(atob("UElYSQ=="))},bm=p.Sb[atob("QkxFTkRfTU9ERVM=")],wm=p.Sb[atob("V1JBUF9NT0RFUw==")];return{Tb:p.Sb[atob("Q29udGFpbmVy")],Ub:p.Sb[atob("QmFzZVRleHR1cmU=")],Vb:p.Sb[atob("VGV4dHVyZQ==")],Wb:p.Sb[atob("UmVuZGVyZXI=")],Xb:p.Sb[atob("R3JhcGhpY3M=")],Yb:p.Sb[atob("U2hhZGVy")],Zb:p.Sb[atob("UmVjdGFuZ2xl")],$b:p.Sb[atob("U3ByaXRl")],_b:p.Sb[atob("VGV4dA==")],ac:p.Sb[atob("R2VvbWV0cnk=")],bc:p.Sb[atob("TWVzaA==")],cc:{dc:bm[atob("QURE")]},ec:{fc:wm[atob("UkVQRUFU")]}}}(),_2PI=2*Math.PI;!function(){var t="Z2V0",e="=",i=t+"SW50",o=t+"RmxvYXQ",n=[atob(i+"OA=="),atob(i+"MTY"+e),atob(i+"MzI"+e),atob(o+"zMg=="),atob(o+"2NA==")];DataView.prototype.gc=function(t){return this[n[0]](t)},DataView.prototype.hc=function(t){return this[n[1]](t)},DataView.prototype.ic=function(t){return this[n[2]](t)},DataView.prototype.jc=function(t){return this[n[3]](t)},DataView.prototype.kc=function(t){return this[n[4]](t)}}();var Ability=function(){function t(t){this.lc=t,this.mc=!1,this.nc=1}return t.VELOCITY_TYPE=0,t.FLEXIBLE_TYPE=1,t.MAGNETIC_TYPE=2,t.ZOOM_TYPE=6,t.X2_TYPE=3,t.X5_TYPE=4,t.X10_TYPE=5,t}(),AssetsJsonManager=function(){function t(){this.oc=[],this.pc={},this.qc=null,this.rc=AssetsJsonResources.sc()}function e(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}return t.prototype.a=function(){this.L()},t.prototype.W=function(){return null!=this.qc},t.prototype.tc=function(){return null!=this.qc?this.qc.revision:-1},t.prototype.uc=function(){return this.qc},t.prototype.L=function(){var t=this;$.get(RESOURCES_HOST+"/dynamic/assets/revision.json",function(e){e>t.tc()&&t.vc()})},t.prototype.vc=function(){var t=this;$.get(RESOURCES_HOST+"/dynamic/assets/registry.json",function(e){e.revision>t.tc()&&t.wc(e)})},t.prototype.ca=function(t){this.oc.push(t)},t.prototype.xc=function(){return this.rc},t.prototype.yc=function(){for(var t=0;t<this.oc.length;t++)this.oc[t]()},t.prototype.zc=function(t,i){if(!(t.revision<=this.tc())){var o=i;e(this.pc,function(t,e){var i=o[t];null!=i&&e.Ac===i.Ac||(print("disposing prev texture: "+t+" at "+e.Ac),e.Bc.destroy())}),this.pc=o,this.qc=t,this.rc=AssetsJsonResources.Cc(this.qc,this.pc),this.yc()}},t.prototype.wc=function(t){var i={};e(t.textureDict,function(t,e){var o=RESOURCES_HOST+e.relativePath;i[t]=new FSTexture(o,POGL.Ub.from(o))}),this.zc(t,i)},t}(),AssetsJsonResources=function(){function t(){this.Dc=null,this.Ec=null,this.Fc=null,this.Gc=null,this.Hc=null,this.Ic=null,this.Jc=null,this.Kc=null,this.Lc=null,this.Mc=null,this.Nc=null,this.Oc=null,this.Pc=null,this.Qc=null,this.Rc=null,this.Sc=null}function e(t,e){for(var i in t)t.hasOwnProperty(i)&&e(i,t[i])}return t.sc=function(){var t=new AssetsJsonResources;return t.Dc={},t.Ec={Tc:null,Uc:null},t.Fc={},t.Gc={Tc:null},t.Hc={},t.Ic={Vc:"#FFFFFF",Tc:[],Uc:[]},t.Jc={},t.Kc={Wc:{},Xc:t.Ic,Yc:t.Ec},t.Lc={},t.Mc={Tc:[]},t.Nc={},t.Oc={Tc:[]},t.Pc={},t.Qc={Tc:[]},t.Rc={},t.Sc={Tc:[]},t},t.Cc=function(t,i){var o=new AssetsJsonResources,n={};e(t.colorDict,function(t,e){n[t]=e});var r={};e(t.regionDict,function(t,e){r[t]=new Region(i[e.texture].Bc,e.x,e.y,e.w,e.h,e.px,e.py,e.pw,e.ph)}),o.Hc={};for(var s=0;s<t.skinArrayDict.length;s++){var a=t.skinArrayDict[s];o.Hc[a.id]=new AssetsJsonResources.WormSkinData("#"+n[a.prime],a.base.map(function(t){return r[t]}),a.glow.map(function(t){return r[t]}))}var h=t.skinUnknown;o.Ic=new AssetsJsonResources.WormSkinData("#"+n[h.prime],h.base.map(function(t){return r[t]}),h.glow.map(function(t){return r[t]})),o.Lc={},e(t.eyesDict,function(t,e){t=parseInt(t),o.Lc[t]=new AssetsJsonResources.WearSkinData(e.base.map(function(t){return r[t.region]}))}),o.Mc=new AssetsJsonResources.WearSkinData(t.eyesUnknown.base.map(function(t){return r[t.region]})),o.Nc={},e(t.mouthDict,function(t,e){t=parseInt(t),o.Nc[t]=new AssetsJsonResources.WearSkinData(e.base.map(function(t){return r[t.region]}))}),o.Oc=new AssetsJsonResources.WearSkinData(t.mouthUnknown.base.map(function(t){return r[t.region]})),o.Pc={},e(t.glassesDict,function(t,e){t=parseInt(t),o.Pc[t]=new AssetsJsonResources.WearSkinData(e.base.map(function(t){return r[t.region]}))}),o.Qc=new AssetsJsonResources.WearSkinData(t.glassesUnknown.base.map(function(t){return r[t.region]})),o.Rc={},e(t.hatDict,function(t,e){t=parseInt(t),o.Rc[t]=new AssetsJsonResources.WearSkinData(e.base.map(function(t){return r[t.region]}))}),o.Sc=new AssetsJsonResources.WearSkinData(t.hatUnknown.base.map(function(t){return r[t.region]})),o.Dc={},e(t.portionDict,function(t,e){t=parseInt(t),o.Dc[t]=new AssetsJsonResources.PortionSkinData(r[e.base],r[e.glow])});var l=t.portionUnknown;o.Ec=new AssetsJsonResources.PortionSkinData(r[l.base],r[l.glow]),o.Fc={},e(t.abilityDict,function(t,e){t=parseInt(t),o.Fc[t]=new AssetsJsonResources.AbilitySkinData(r[e.base])});var p=t.abilityUnknown;return o.Gc=new AssetsJsonResources.AbilitySkinData(r[p.base]),o.Jc={},e(t.teamDict,function(t,e){t=parseInt(t),o.Jc[t]=new AssetsJsonResources.TeamSkinData(e.name,new AssetsJsonResources.WormSkinData("#"+n[e.skin.prime],[],e.skin.glow.map(function(t){return r[t]})),new AssetsJsonResources.PortionSkinData([],r[n.portion.glow]},eb:n.name}}),s(r.eyesDict,function(t,i){t=parseInt(t),h.Ga[t]={ab:i.base.map(function(t){return e[t.region]})}}),s(r.mouthDict,function(t,i){t=parseInt(t),h.Ha[t]={ab:i.base.map(function(t){return e[t.region]})}}),s(r.glassesDict,function(t,i){t=parseInt(t),h.Ia[t]={ab:i.base.map(function(t){return e[t.region]})}}),s(r.hatDict,function(t,i){t=parseInt(t),h.Ja[t]={ab:i.base.map(function(t){return e[t.region]})}}),s(r.portionDict,function(t,i){t=parseInt(t),h.Ka[t]={ab:e[i.base],bb:e[i.glow]}});var f=r.portionUnknown;h.La={ab:e[f.base],bb:e[f.glow]},s(r.abilityDict,function(t,i){t=parseInt(t),h.Ma[t]={ab:e[i.base]}});var u=r.abilityUnknown;h.Na={ab:e[u.base]},o()})},t}(),v=function(){function t(t){this.fb=t,this.gb=t.get()[0],this.hb=a(this.gb),this.ib()}var i=[{jb:l*Math.random(),kb:.1+.4*Math.random(),lb:1,mb:2,nb:0},{jb:l*Math.random(),kb:.1+.4*Math.random(),lb:1.5,mb:1.5,nb:1},{jb:l*Math.random(),kb:.1+.4*Math.random(),lb:2,mb:1,nb:2},{jb:l*Math.random(),kb:.1+.4*Math.random(),lb:3,mb:2,nb:3},{jb:l*Math.random(),kb:.1+.4*Math.random(),lb:2.5,mb:2.5,nb:4},{jb:l*Math.random(),kb:.1+.4*Math.random(),lb:2,mb:3,nb:5},{jb:l*Math.random(),kb:.1+.4*Math.random(),lb:5,mb:4,nb:6},{jb:l*Math.random(),kb:.1+.4*Math.random(),lb:4.5,mb:4.5,nb:7},{jb:l*Math.random(),kb:.1+.4*Math.random(),lb:4,mb:5,nb:8}];return t.prototype.ib=function(){var t=window.devicePixelRatio?window.devicePixelRatio:1;this.gb.width=t*this.fb.width()*.25,this.gb.height=t*this.fb.height()*.25},t.prototype.ob=function(t){var e=this.gb.width,n=this.gb.height;if(this.hb.setTransform(1,0,0,1,0,0),this.hb.fillStyle="#000000",this.hb.fillRect(0,0,e,n),t.prototype.Yd=function(){this.Wd&&(this.Wd=!1,null!=this.be&&this.be._d(800,50))},t.prototype.ee=function(t){if(this.Wd){null==this.be&&(this.be=this.fe()),this.be.Vd.currentTime+this.de/1e3>this.be.Vd.duration&&(this.be=this.fe(),this.be.Vd.currentTime=0),console.log("Current track '"+this.be.Vd.src+"', change in (ms) "+(1e3*(this.be.Vd.duration-this.be.Vd.currentTime)-this.de)),this.be.Zd=0,this.be.$d(t,100);var e=1e3*(this.be.Vd.duration-this.be.Vd.currentTime)-this.de,i=this,o=setTimeout(function(){i.Wd&&o==i.ce&&(i.be._d(i.de,100),i.be=i.fe(),i.be.Vd.currentTime=0,i.ee(i.de))},e);this.ce=o}},t.prototype.fe=function(){var t=this.ae[0],e=Math.max(1,this.ae.length/2);return i(this.ae,e,this.ae.length),this.ae.push(this.ae.shift()),t}}(),function(){function t(t,e){this.Vd=t,this.ge=e,this.Zd=0,t.volume=0,this.he=0,this.ie=!1}return t.prototype.$d=function(t,e){console.log("fade IN "+this.Vd.src),this.je(!0,t,e)},t.prototype._d=function(t,e){console.log("fade OUT "+this.Vd.src),this.je(!1,t,e)},t.prototype.je=function(t,e,i){this.ie&&clearInterval(this.he);var o=this,n=1/(e/i),r=setInterval(function(){if(o.ie&&r!=o.he)return void clearInterval(r);t?(o.Zd=Math.min(1,o.Zd+n),o.Vd.volume=o.Zd*o.ge,o.Zd>=1&&(o.ie=!1,clearInterval(r))):(o.Zd=Math.max(0,o.Zd-n),o.Vd.volume=o.Zd*o.ge,o.Zd<=0&&(o.Vd.pause(),o.ie=!1,clearInterval(r)))},i);this.ie=!0,this.he=r,this.Vd.play()},t}());return t.AudioState={ua:{ke:!1,le:!1,ud:!0,rd:!1},F:{ke:!1,le:!0,ud:!0,rd:!1},H:{ke:!0,le:!1,ud:!1,rd:!0},Ea:{ke:!1,le:!1,ud:!0,rd:!1},qa:{ke:!1,le:!1,ud:!1,rd:!1}},t}(),BackgroundView=function(){function t(t){this.me=t,this.ne=t.get()[0],this.oe=init2DContext(this.ne),this.Ra()}var e=[{pe:_2PI*Math.random(),qe:.1+.4*Math.random(),re:1,se:2,te:0},{pe:_2PI*Math.random(),qe:.1+.4*Math.random(),re:1.5,se:1.5,te:1},{pe:_2PI*Math.random(),qe:.1+.4*Math.random(),re:2,se:1,te:2},{pe:_2PI*Math.random(),qe:.1+.4*Math.random(),re:3,se:2,te:3},{pe:_2PI*Math.random(),qe:.1+.4*Math.random(),re:2.5,se:2.5,te:4},{pe:_2PI*Math.random(),qe:.1+.4*Math.random(),re:2,se:3,te:5},{pe:_2PI*Math.random(),qe:.1+.4*Math.random(),re:5,se:4,te:6},{pe:_2PI*Math.random(),qe:.1+.4*Math.random(),re:4.5,se:4.5,te:7},{pe:_2PI*Math.random(),qe:.1+.4*Math.random(),re:4,se:5,te:8}];return t.prototype.Ra=function(){var t=window.devicePixelRatio?window.devicePixelRatio:1;this.ne.width=t*this.me.width()*.25,this.ne.height=t*this.me.height()*.25},t.prototype.Pa=function(t){var i=this.ne.width,o=this.ne.height;this.oe.setTransform(1,0,0,1,0,0),this.oe.fillStyle="#000000",this.oe.fillRect(0,0,i,o);var n=getApp();if(n.q.ue){this.oe.save();for(var r=.8*Math.max(i,o),s=0;s<e.length;s++){this.oe.globalCompositeOperation="normal";var a=e[s],h=Math.cos(a.re*(8e-5*t)+a.pe),l=Math.sin(a.se*(8e-5*t));this.oe.globalAlpha=.2+.2*Math.cos(a.pe+a.qe*(.001*t)),this.oe.drawImage(n.q.ue[a.te],.5*i+.4*h*i-.5*r,.5*o+.2*l*o-.5*r,r,r)}this.oe.restore()}},t}(),Cookies=function(){function t(){}return t.Na="consent_state_2",t.ya="showPlayerNames",t.ve="musicEnabled",t.we="sfxEnabled",t.xe="account_type",t.va="gameMode",t.Aa="nickname",t.Ba="skin",t.d="prerollCount",t.La="shared",t}(),EEAMap=function(){function t(t,e,i){for(var o=!1,n=i.length,r=0,s=n-1;r<n;s=r++)i[r][1]>e!=i[s][1]>e&&t<(i[s][0]-i[r][0])*(e-i[r][1])/(i[s][1]-i[r][1])+i[r][0]&&(o=!o);return o}var e=[[-28.06744,64.95936],[-10.59082,72.91964],[14.11773,81.39558],[36.51855,81.51827],[32.82715,71.01696],[31.64063,69.41897],[29.41419,68.43628],[30.64379,67.47302],[29.88281,66.76592],[30.73975,65.50385],[30.73975,64.47279],[31.48682,63.49957],[32.18994,62.83509],[28.47726,60.25122],[28.76221,59.26588],[28.03711,58.60833],[28.38867,57.53942],[28.83955,56.2377],[31.24512,55.87531],[31.61865,55.34164],[31.92627,54.3037],[33.50497,53.26758],[32.73926,52.85586],[32.23389,52.4694],[34.05762,52.44262],[34.98047,51.79503],[35.99121,50.88917],[36.67236,50.38751],[37.74902,50.51343],[40.78125,49.62495],[40.47363,47.70976],[38.62799,46.92028],[37.53193,46.55915],[36.72182,44.46428],[39.68218,43.19733],[40.1521,43.74422],[43.52783,43.03678],[45.30762,42.73087],[46.99951,41.98399],[47.26318,40.73061],[44.20009,40.86309],[45.35156,39.57182],[45.43945,36.73888],[35.64789,35.26481],[33.13477,33.65121],[21.47977,33.92486],[12.16268,34.32477],[11.82301,37.34239],[6.09112,38.28597],[-1.96037,35.62069],[-4.82156,35.60443],[-7.6498,35.26589],[-16.45237,37.44851],[-28.06744,64.95936]];return{Oa:function(i,o){return t(o,i,e)}}}(),FloatingStringManager=function(){function t(t){var e=void 0;e=t>0?"+"+Math.floor(t):t<0?"-"+Math.floor(t):"0";var o=Math.min(1.5,.5+t/600),r=void 0;if(t<1)r="0xFFFFFF";else if(t<30){var s=(t-1)/29;r=i(1*(1-s)+.96*s,1*(1-s)+.82*s,1*(1-s)+0*s)}else if(t<300){var a=(t-30)/270;r=i(.96*(1-a)+.93*a,.82*(1-a)+.34*a,0*(1-a)+.25*a)}else if(t<700){var h=(t-300)/400;r=i(.93*(1-h)+.98*h,.34*(1-h)+0*h,.25*(1-h)+.98*h)}else r=i(.98,0,.98);var l=Math.random(),p=1+.5*Math.random();return new n(e,r,!0,.5,o,l,p)}function e(t,e){var o=void 0,r=void 0;return e?(o=1.3,r=i(.93,.34,.25)):(o=1.1,r=i(.96,.82,0)),new n(t,r,!0,.5,o,.5,.7)}function i(t,e,i){return((255*t&255)<<16)+((255*e&255)<<8)+(255*i&255)}var o=extend(POGL.Tb,function(){POGL.Tb.call(this),this.ye=[],this.ze=0});o.prototype.Ae=function(e){if(this.ze+=e,this.ze>=1){var i=Math.floor(this.ze);this.ze-=i;var o=t(i);this.addChild(o),this.ye.push(o)}},o.prototype.Be=function(t){if(t){var i=e(i18n("index.game.floating.headshot"),!0);this.addChild(i),this.ye.push(i)}else{var o=e(i18n("index.game.floating.wellDone"),!1);this.addChild(o),this.ye.push(o)}},o.prototype.Ce=function(t,e){for(var i=getApp().s.H.qb,o=i.De.width/i.De.resolution,n=i.De.height/i.De.resolution,r=0;r<this.ye.length;){var s=this.ye[r];s.Ee=s.Ee+e/2e3*s.Fe,s.Ge=s.Ge+e/2e3*s.He,s.alpha=.5*Math.sin(Math.PI*s.Ge),s.scale.set(s.Ee),s.position.x=o*(.25+.5*s.Ie),s.position.y=s.Je?n*(1-.5*(1+s.Ge)):n*(1-.5*(0+s.Ge)),s.Ge>1&&(pixijs_removeFromParent(s),this.ye.splice(r,1),r--),r++}};var n=function(){return extend(POGL._b,function(t,e,i,o,n,r,s){POGL._b.call(this,t,{fill:e,fontFamily:"PTSans",fontSize:36}),this.anchor.set(.5),this.Je=i,this.Ee=o,this.Fe=n,this.Ie=r,this.Ge=0,this.He=s})}();return o}(),FSTexture=function(){function t(t,e){this.Ac=t,this.Bc=e}return t}(),GameMode={Ke:0,Le:16},GameParams=function(){function t(){this.Me=GameMode.Ke,this.Ne=0,this.ob=500,this.Oe=4e3,this.Pe=7e3}return t.TEAM_DEFAULT=0,t.prototype.Qe=function(){return 1.02*this.ob},t}(),GameView=function(){function t(t){this.Re=t.get()[0],this.De=new POGL.Wb({view:this.Re,backgroundColor:0,antialias:!0}),this.Se=new POGL.Tb,this.Se.sortableChildren=!0,this.Te=Math.floor(360*Math.random()),this.Ue=0,this.Ve=0,this.We=15,this.Xe=.5,this.Ye=0,this.Ze=new WMGameBackgroundSprite,this.$e=new POGL.Xb,this._e=new POGL.Tb,this.af=new POGL.Tb,this.af.sortableChildren=!0,this.bf=new POGL.Tb,this.cf=new POGL.Tb,this.cf.sortableChildren=!0,this.df=new POGL.Tb,this.ef=new i,this.ff=new o,this.gf=new n,this.hf=new FloatingStringManager,this.if=new POGL.$b,this.a()}var e=$("#game-canvas");t.prototype.a=function(){this.De.backgroundColor=0,this.Ze.jf.zIndex=10,this.Se.addChild(this.Ze.jf),this.$e.zIndex=20,this.Se.addChild(this.$e),this._e.zIndex=5e3,this.Se.addChild(this._e),this.af.zIndex=5100,this.Se.addChild(this.af),this.bf.zIndex=1e4,this.Se.addChild(this.bf),this.if.texture=getApp().q.kf,this.if.anchor.set(.5),this.if.zIndex=1,this.cf.addChild(this.if),this.df.alpha=.6,this.df.zIndex=2,this.cf.addChild(this.df),this.hf.zIndex=3,this.cf.addChild(this.hf),this.ef.alpha=.8,this.ef.zIndex=4,this.cf.addChild(this.ef),this.ff.zIndex=5,this.cf.addChild(this.ff),this.gf.zIndex=6,this.cf.addChild(this.gf),this.Ra()},t.prototype.Ra=function(){var t=window.devicePixelRatio?window.devicePixelRatio:1,i=e.width(),o=e.height();this.De.resize(i,o),this.De.resolution=t,this.Re.width=t*i,this.Re.height=t*o,this.Xe=Math.min(Math.min(i,o),.625*Math.max(i,o)),this.if.position.x=i/2,this.if.position.y=o/2,this.if.width=i,this.if.height=o,this.ef.position.x=60,this.ef.position.y=60,this.ff.position.x=110,this.ff.position.y=10,this.gf.position.x=i-225,this.gf.position.y=1},t.prototype.Ce=function(t,e){var i=getApp();this.We=15,this._e.removeChildren(),this.af.removeChildren(),this.bf.removeChildren(),this.df.removeChildren(),this.Ze.lf(t.Me==GameMode.Ke?i.q.mf:i.q.nf);var o=this.$e;o.clear(),o.lineStyle(.2,16711680,.3),o.drawCircle(0,0,t.ob),o.endFill(),this.gf.pf=e,this.df.visible=e},t.prototype.Pa=function(t,e){if(!(this.De.width<=5)){var i=getApp(),o=i.o.N,n=this.De.width/this.De.resolution,r=this.De.height/this.De.resolution;this.We=timeDeltaIncrement(this.We,i.o.db,e,.002);var s=this.Xe/this.We,a=i.o.N.qf[Ability.ZOOM_TYPE],h=null!=a&&a.mc;this.Ye=minmax(0,1,this.Ye+e/1e3*(.1*(h?1:0)-this.Ye)),this.if.alpha=this.Ye,this.Te=this.Te+.01*e,this.Te>360&&(this.Te=this.Te%360),this.Ue=Math.sin(t/1200*2*Math.PI);var l=o.rf[0],p=o.rf[1],u=Math.hypot(l,p),c=n/s/2,f=r/s/2;i.o.sb(l-1.3*c,l+1.3*c,p-1.3*f,p+1.3*f),this.Ze.Ce(l,p,2*c,2*f)
;var d=i.o._a.ob;if(this.Se.scale.x=s,this.Se.scale.y=s,this.Se.position.x=n/2-l*s,this.Se.position.y=r/2-p*s,u>d-10){this.Ve=minmax(0,1,1+(u-d)/10);var g=Math.cos(this.Te*_2PI/360)*(1-this.Ve)+1*this.Ve,y=Math.sin(this.Te*_2PI/360)*(1-this.Ve),w=(Math.atan2(y,g)+_2PI)%_2PI*360/_2PI,v=this.Ve*(.5+.5*this.Ue),b=convertHSLtoRGB(Math.floor(w),1,.75-.25*this.Ve);this.Ze.sf(b[0],b[1],b[2],.1+.2*v)}else{this.Ve=0;var k=convertHSLtoRGB(Math.floor(this.Te),1,.75);this.Ze.sf(k[0],k[1],k[2],.1)}for(var m=0;m<this.df.children.length;m++){var j=this.df.children[m];j.position.x=n/2-(l-j.tf.x)*s,j.position.y=r/2-(p-j.tf.y)*s}this.ef.uf.position.x=l/d*this.ef.vf,this.ef.uf.position.y=p/d*this.ef.vf,this.ff.Qa(t),this.hf.Ce(t,e),this.De.render(this.Se,null,!0),this.De.render(this.cf,null,!1)}},t.prototype.wf=function(t,e){e.zf.yf.xf().zIndex=(t+2147483648)/4294967296*5e3,this._e.addChild(e.zf.Af.xf()),this.af.addChild(e.zf.yf.xf())},t.prototype.Bf=function(t,e,i){e.Cf.zIndex=getApp().o._a.Ne?0:10+(t+32768)/65536*5e3,this.bf.addChild(e.Cf),t!=getApp().o._a.Ne&&this.df.addChild(i)};var i=function(){return extend(POGL.Tb,function(){POGL.Tb.call(this),this.vf=40,this.Df=new POGL.$b,this.Df.anchor.set(.5),this.uf=new POGL.Xb;var t=new POGL.Xb;t.beginFill("black",.4),t.drawCircle(0,0,this.vf),t.endFill(),t.lineStyle(2,16225317),t.drawCircle(0,0,this.vf),t.moveTo(0,-this.vf),t.lineTo(0,+this.vf),t.moveTo(-this.vf,0),t.lineTo(+this.vf,0),t.endFill(),this.Df.alpha=.5,this.uf.zIndex=2,this.uf.alpha=.9,this.uf.beginFill(16225317),this.uf.drawCircle(0,0,.06*this.vf),this.uf.endFill(),this.uf.lineStyle(1,"black"),this.uf.drawCircle(0,0,.06*this.vf),this.uf.endFill(),this.addChild(t),this.addChild(this.Df),this.addChild(this.uf)})}(),o=function(){var t=extend(POGL.Tb,function(){POGL.Tb.call(this),this.Ef={}});t.prototype.Qa=function(t){var e=.5+.5*Math.cos(_2PI*(t/1e3/1.6));for(var i in this.Ef){var o=this.Ef[i],n=o.Ff;o.alpha=1-n+n*e}},t.prototype.Ce=function(t){for(var i in this.Ef)null!=t[i]&&t[i].mc||(pixijs_removeFromParent(this.Ef[i]),delete this.Ef[i]);var o=0;for(var n in t){var r=t[n];if(r.mc){var s=this.Ef[n];if(!s){var a=getApp().p.xc().ed(r.lc).Tc;s=new e,s.texture=a.Bc,s.width=40,s.height=40,this.Ef[n]=s,this.addChild(s)}s.Ff=r.nc,s.position.x=o,o+=40}}};var e=function(){return extend(POGL.$b,function(){POGL.$b.call(this),this.Ff=0})}();return t}(),n=function(){var t=extend(POGL.Tb,function(){POGL.Tb.call(this),this.pf=!0,this.Gf=12,this.Hf=9,this.ye=[];for(var t=0;t<14;t++)this.If()});t.prototype.Ce=function(t){var e=getApp(),i=e.o._a.Me==GameMode.Le,o=0,n=0;n>=this.ye.length&&this.If(),this.ye[n].Jf(1,"white"),this.ye[n].Kf("",i18n("index.game.leader.top10"),"("+e.o.nb+" online)"),this.ye[n].position.y=o,o+=this.Gf,n+=1,t.Lf.length>0&&(o+=this.Hf);for(var r=0;r<t.Lf.length;r++){var s=t.Lf[r],a=e.p.xc().$c(s.Mf);n>=this.ye.length&&this.If(),this.ye[n].Jf(.8,a.Xc.Vc),this.ye[n].Kf(""+(r+1),i18nCustomBundle(a.Wc),""+Math.floor(s.M)),this.ye[n].position.y=o,o+=this.Gf,n+=1}t.Nf.length>0&&(o+=this.Hf);for(var h=0;h<t.Nf.length;h++){var l=t.Nf[h],p=e.o._a.Ne==l.Of,u=void 0,c=void 0;if(p)u="white",c=e.o.N.Gb.Wc;else{var f=e.o.bb[l.Of];null!=f?(u=i?e.p.xc().$c(f.Gb.Pf).Xc.Vc:e.p.xc().Zc(f.Gb.Qf).Vc,c=this.pf?f.Gb.Wc:"---"):(u="gray",c="?")}p&&(o+=this.Hf),n>=this.ye.length&&this.If(),this.ye[n].Jf(p?1:.8,u),this.ye[n].Kf(""+(h+1),c,""+Math.floor(l.M)),this.ye[n].position.y=o,o+=this.Gf,n+=1,p&&(o+=this.Hf)}for(e.o.O>t.Nf.length&&(o+=this.Hf,n>=this.ye.length&&this.If(),this.ye[n].Jf(1,"white"),this.ye[n].Kf(""+e.o.O,e.o.N.Gb.Wc,""+Math.floor(e.o.N.M)),this.ye[n].position.y=o,o+=this.Gf,n+=1,o+=this.Hf);this.ye.length>n;)pixijs_removeFromParent(this.ye.pop())},t.prototype.If=function(){var t=new e;t.position.y=0,this.ye.length>0&&(t.position.y=this.ye[this.ye.length-1].position.y+this.Gf),this.ye.push(t),this.addChild(t)};var e=function(){var t=extend(POGL.Tb,function(){POGL.Tb.call(this),this.Rf=new POGL._b("",{fontFamily:"PTSans",fontSize:12,fill:"white"}),this.Rf.anchor.x=1,this.Rf.position.x=30,this.addChild(this.Rf),this.Sf=new POGL._b("",{fontFamily:"PTSans",fontSize:12,fill:"white"}),this.Sf.anchor.x=0,this.Sf.position.x=35,this.addChild(this.Sf),this.Tf=new POGL._b("",{fontFamily:"PTSans",fontSize:12,fill:"white"}),this.Tf.anchor.x=1,this.Tf.position.x=220,this.addChild(this.Tf)});return t.prototype.Kf=function(t,e,i){this.Rf.text=t,this.Tf.text=i;var o=e;for(this.Sf.text=o;this.Sf.width>100;)o=o.substring(0,o.length-1),this.Sf.text=o+".."},t.prototype.Jf=function(t,e){this.Rf.alpha=t,this.Rf.style.fill=e,this.Sf.alpha=t,this.Sf.style.fill=e,this.Tf.alpha=t,this.Tf.style.fill=e},t}();return t}();return t}(),MessageProcessor=function(){function t(t){this.o=t,this.Uf=[],this.Vf=0}t.prototype.Rb=function(t){this.Uf.push(new DataView(t))},t.prototype.Mb=function(){this.Vf=0,this.Uf=[]},t.prototype.vb=function(){for(var t=0;t<10;t++){if(0==this.Uf.length)return;var e=this.Uf.shift();try{this.Wf(e)}catch(t){throw console.log("DataReader error: "+t),t}}},t.prototype.Wf=function(t){switch(255&t.gc(0)){case 0:return void this.Xf(t,1);case 1:return void this.Yf(t,1);case 2:return void this.Zf(t,1);case 3:return void this.$f(t,1);case 4:return void this._f(t,1);case 5:return void this.ag(t,1)}},t.prototype.Xf=function(t,e){console.log("sgp1"),this.o._a.Me=t.gc(e),e+=1;var i=t.hc(e);return e+=2,this.o._a.Ne=i,this.o.N.Gb.Fb=i,this.o._a.ob=t.jc(e),e+=4,this.o._a.Oe=t.jc(e),e+=4,this.o._a.Pe=t.jc(e),e+=4,getApp().s.H.qb.Ce(this.o._a,getApp().s.xa.wa()),console.log("sgp2"),e},t.prototype.Yf=function(t,e){var i=t.hc(e);e+=2;var o=Date.now();this.Vf=o+i;var n=void 0;n=this.bg(t,e),e+=this.cg(n);for(var r=0;r<n;r++)e=this.dg(t,e);n=this.bg(t,e),e+=this.cg(n);for(var s=0;s<n;s++)e=this.eg(t,e);n=this.bg(t,e),e+=this.cg(n);for(var a=0;a<n;a++)e=this.fg(t,e);n=this.bg(t,e),e+=this.cg(n);for(var h=0;h<n;h++)e=this.gg(t,e);n=this.bg(t,e),e+=this.cg(n);for(var l=0;l<n;l++)e=this.hg(t,e);n=this.bg(t,e),e+=this.cg(n);for(var p=0;p<n;p++)e=this.ig(t,e);n=this.bg(t,e),e+=this.cg(n);for(var u=0;u<n;u++)e=this.jg(t,e);n=this.bg(t,e),e+=this.cg(n);for(var c=0;c<n;c++)e=this.kg(t,e);return e=this.lg(t,e),this.o.Kb(),e},t.prototype.gg=function(t,e){var i=new Worm.Config;i.Fb=t.hc(e),e+=2,i.Pf=this.o._a.Me==GameMode.Le?t.gc(e++):GameParams.TEAM_DEFAULT,i.Qf=t.hc(e),e+=2,i.mg=t.hc(e),e+=2,i.ng=t.hc(e),e+=2,i.og=t.hc(e),e+=2,i.pg=t.hc(e),e+=2;var o=t.gc(e);e+=1;for(var n="",r=0;r<o;r++)n+=String.fromCharCode(t.hc(e)),e+=2;if(i.Wc=n,this.o._a.Ne==i.Fb)this.o.N.qg(i);else{var s=this.o.bb[i.Fb];null!=s&&s.Eb();var a=new Worm(this.o._a);a.pb(getApp().s.H.qb),this.o.bb[i.Fb]=a,a.qg(i)}return e},t.prototype.hg=function(t,e){var i=t.hc(e);e+=2;var o=t.gc(e);e++;var n=!!(1&o),r=!!(2&o),s=0;n&&(s=t.hc(e),e+=2);var a=this.rg(i);if(void 0===a)return e;if(a.Cb=!1,!a.Bb)return e;var h=this.rg(i);if(n&&void 0!==h&&h.Bb)if(s==this.o._a.Ne){var l=a.sg(this.o.N.rf[0],this.o.N.rf[1]);Math.max(0,1-l.distance/(.5*this.o.db));l.distance<.5*this.o.db&&getApp().s.H.qb.hf.Be(r)}else if(i==this.o._a.Ne);else{var p=a.sg(this.o.N.rf[0],this.o.N.rf[1]);Math.max(0,1-p.distance/(.5*this.o.db))}else if(i==engine.gameParams.wormThisId);else{var u=a.sg(this.o.N.rf[0],this.o.N.rf[1]);Math.max(0,1-u.distance/(.5*this.o.db))}return e},t.prototype.kg=function(t,e){var i=t.hc(e);e+=2;var o=i==this.o._a.Ne?null:this.o.bb[i],n=t.gc(e);e+=1;var r=!!(1&n);if(!!(2&n)){var s=t.jc(e);e+=4,o&&o.tg(s)}var a=this.ug(t.gc(e++),t.gc(e++),t.gc(e++)),h=this.ug(t.gc(e++),t.gc(e++),t.gc(e++));if(o){o.vg(this.Vf,a,h,r);var l=Math.max(0,1-Math.hypot(this.o.N.rf[0]-o.rf[0],this.o.N.rf[1]-o.rf[1])/(.5*this.o.db));getApp().r.Td(l,i,r)}var p=this.bg(t,e);if(e+=this.cg(p),o)for(var u in o.qf){var c=o.qf[u];c&&(c.mc=!1)}for(var f=0;f<p;f++){var d=t.gc(e);e++;var g=t.gc(e);if(e++,o){var y=o.qf[d];y||(y=o.qf[d]=new Ability(d)),y.mc=!0,y.nc=Math.min(1,Math.max(0,g/100))}}return e},t.prototype.lg=function(t,e){var i=this.o.N,o=t.gc(e);e+=1;var n=!!(1&o),r=!!(2&o),s=!!(4&o);if(r){var a=i.M;i.tg(t.jc(e)),e+=4,a=i.M-a,a>0&&getApp().s.H.qb.hf.Ae(a)}s&&(this.o.cb=t.jc(e),e+=4),i.vg(this.Vf,this.ug(t.gc(e++),t.gc(e++),t.gc(e++)),this.ug(t.gc(e++),t.gc(e++),t.gc(e++)),n),getApp().r.Td(.5,this.o._a.Ne,n);var h=this.bg(t,e);e+=this.cg(h);for(var l in i.qf){var p=i.qf[l];p&&(p.mc=!1)}for(var u=0;u<h;u++){var c=t.gc(e);e++;var f=t.gc(e);e++;var d=i.qf[c];d||(d=new Ability(c),i.qf[c]=d),d.mc=!0,d.nc=Math.min(1,Math.max(0,f/100))}getApp().s.H.qb.ff.Ce(i.qf)},t.prototype.ig=function(t,e){var i=this,o=t.hc(e);e+=2;var n=this.rg(o),r=t.jc(e);e+=4;var s=this.bg(t,e);if(e+=this.cg(s),n){n.tg(r),n.wg(this.Vf,function(){return i.ug(t.gc(e++),t.gc(e++),t.gc(e++))},s),n.xg(!0);var a=Math.max(0,1-Math.hypot(this.o.N.rf[0]-n.rf[0],this.o.N.rf[1]-n.rf[1])/(.5*this.o.db));getApp().r.Rd(a,o)}else e+=6*s;return e},t.prototype.jg=function(t,e){var i=t.hc(e);e+=2;var o=this.o.bb[i];return o&&o.Cb&&o.xg(!1),getApp().r.Sd(i),e},t.prototype.dg=function(t,e){var i=new Portion.Config;i.Fb=t.ic(e),e+=4,i.Pf=this.o._a.Me==GameMode.Le?t.gc(e++):GameParams.TEAM_DEFAULT,i.yg=this.ug(t.gc(e++),t.gc(e++),t.gc(e++)),i.Qf=t.gc(e++);var o=this.o.ab[i.Fb];null!=o&&o.Eb();var n=new Portion(i,getApp().s.H.qb);return n.zg(this.Ag(i.Fb),this.Bg(i.Fb),!0),this.o.ab[i.Fb]=n,e},t.prototype.eg=function(t,e){var i=t.ic(e);e+=4;var o=this.o.ab[i];return o&&(o.Cg=0,o.Dg=1.5*o.Dg,o.Hb=!0),e},t.prototype.fg=function(t,e){var i=t.ic(e);e+=4;var o=t.hc(e);e+=2;var n=this.o.ab[i];if(n){n.Cg=0,n.Dg=.1*n.Dg,n.Hb=!0;var r=this.rg(o);if(r&&r.Bb){var s=r==this.o.N,a=s?1:Math.max(0,1-Math.hypot(this.o.N.rf[0]-n.Ib,this.o.N.rf[1]-n.Jb)/(.5*this.o.db));getApp().r.Cd(a,s,n.Gb.Qf),n.zg(r.rf[0],r.rf[1],!1)}}return e};var e=[34,29,26,24,22,20,18,17,15,14,13,12,11,10,9,8,8,7,6,6,5,5,4,4,3,3,2,2,2,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,3,3,4,4,5,5,6,6,7,8,8,9,10,11,12,13,14,15,17,18,20,22,24,26,29,34];return t.prototype.Zf=function(t){for(var i=(getApp().q.Eg.Re,getApp().q.Eg.Fg),o=i.getImageData(0,0,80,80),n=e[0],r=80-n,s=0,a=0;a<628;a++)for(var h=t.gc(1+a),l=0;l<8;l++){var p=0!=(h>>l&1),u=4*(n+80*s);p?(o.data[u]=255,o.data[u+1]=255,o.data[u+2]=255,o.data[u+3]=255):o.data[u+3]=0,++n>=r&&++s<80&&(n=e[s],r=80-n)}i.putImageData(o,0,0);var c=getApp().s.H.qb.ef.Df;c.texture=getApp().q.Eg.Bc,c.texture.update()},t.prototype._f=function(t,e){var i=t.ic(e);e+=4,console.log("Wormy Error: "+i)},t.prototype.ag=function(t,e){console.log("g.o"),this.o.Lb()},t.prototype.$f=function(t,e){this.o.nb=t.hc(e),e+=2,this.o.O=t.hc(e),e+=2;var i=new ScoreTableModel;i.Nf=[];for(var o=t.gc(e++),n=0;n<o;n++){var r=t.hc(e);e+=2;var s=t.jc(e);e+=4,i.Nf.push(ScoreTableModel.Gg(r,s))}if(i.Lf=[],this.o._a.Me==GameMode.Le)for(var a=t.gc(e++),h=0;h<a;h++){var l=t.gc(e);e+=1;var p=t.jc(e);e+=4,i.Lf.push(ScoreTableModel.Hg(l,p))}getApp().s.H.qb.gf.Ce(i)},t.prototype.rg=function(t){return t==this.o._a.Ne?this.o.N:this.o.bb[t]},t.prototype.ug=function(t,e,i){return 1e4*((16777215&(255&i|e<<8&65280|t<<16&16711680))/8388608-1)},t.prototype.Ag=function(t){return((65535&t)/32768-1)*this.o._a.Qe()},t.prototype.Bg=function(t){return((t>>16&65535)/32768-1)*this.o._a.Qe()},t.prototype.bg=function(t,e){var i=t.gc(e);if(0==(128&i))return i;var o=t.gc(e+1);if(0==(128&o))return o|i<<7&16256;var n=t.gc(e+2);if(0==(128&n))return n|o<<7&16256|i<<14&2080768;var r=t.gc(e+3);return 0==(128&r)?r|n<<7&16256|o<<14&2080768|i<<21&266338304:void 0},t.prototype.cg=function(t){return t<128?1:t<16384?2:t<2097152?3:t<268435456?4:void 0},t}(),Optional=function(){function t(t){this.Ig=t}return t.Jg=function(){return new Optional(null)},t.Kg=function(t){return new Optional(t)},t.prototype.Lg=function(){return this.Ig},t.prototype.Mg=function(){return null!=this.Ig},t.prototype.Ng=function(t){null!=this.Ig&&t(this.Ig)},t}(),Portion=function(){function t(t,e){this.Gb=t,this.Og=t.Qf>=80,this.Ib=0,this.Jb=0,this.Pg=0,this.Qg=0,this.Dg=this.Og?1:t.yg,this.Cg=1,this.Hb=!1,this.Rg=0,this.Sg=0,this.Db=1,this.pe=2*Math.PI*Math.random(),this.Tg=new PortionSpriteTree,this.Tg.Ug(getApp().o._a.Me,this.Gb.Pf===GameParams.TEAM_DEFAULT?null:getApp().p.xc().$c(this.Gb.Pf),getApp().p.xc().dd(this.Gb.Qf)),e.wf(t.Fb,this.Tg)}return t.SkinType={VELOCITY:81,FLEXIBLE:82,MAGNETIC:83,X2:84,X5:85,X10:86,ENERGY:87,ZOOM:88,COIN:90},t.prototype.Eb=function(){this.Tg.zf.Af.Vg(),this.Tg.zf.yf.Vg()},t.prototype.zg=function(t,e,i){this.Ib=t,this.Jb=e,i&&(this.Pg=t,this.Qg=e)},t.prototype.zb=function(t,e){var i=Math.min(.5,1*this.Dg),o=Math.min(2.5,1.5*this.Dg);this.Rg=timeDeltaIncrement(this.Rg,i,e,.0025),this.Sg=timeDeltaIncrement(this.Sg,o,e,.0025),this.Db=timeDeltaIncrement(this.Db,this.Cg,e,.0025)},t.prototype.Ab=function(t,e,i){this.Pg=timeDeltaIncrement(this.Pg,this.Ib,e,.0025),this.Qg=timeDeltaIncrement(this.Qg,this.Jb,e,.0025),this.Tg.Ce(this,t,e,i)},t.Config=function(){function t(){this.Fb=0,this.Pf=GameParams.TEAM_DEFAULT,this.yg=0,this.Qf=0}return t}(),t}(),PortionSpriteTree=function(){function t(){this.zf=new o(new WMSprite,new WMSprite),this.zf.Af.Wg.blendMode=POGL.cc.dc,this.zf.Af.Wg.zIndex=i,this.zf.yf.Wg.zIndex=e}var e=500,i=100;t.prototype.Ug=function(t,e,i){var o=i.Tc;null!=o&&this.zf.yf.Xg(o);var n=t==GameMode.Le&&null!=e?e.Yc.Uc:i.Uc;null!=n&&this.zf.Af.Xg(n)},t.prototype.Ce=function(t,e,i,o){if(!o(t.Pg,t.Qg))return void this.zf.Yg();var n=t.Sg*(1+.3*Math.cos(t.pe+e/200));t.Og?this.zf.Zg(t.Pg,t.Qg,2*t.Rg,1*t.Db,1.2*n,.8*t.Db):this.zf.Zg(t.Pg,t.Qg,2*t.Rg,1*t.Db,2*n,.3*t.Db)};var o=function(){function t(t,e){this.yf=t,this.Af=e}return t.prototype.Zg=function(t,e,i,o,n,r){this.yf.xg(!0),this.yf.$g(t,e),this.yf._g(i),this.yf.ah(o),this.Af.xg(!0),this.Af.$g(t,e),this.Af._g(n),this.Af.ah(r)},t.prototype.Yg=function(){this.yf.xg(!1),this.Af.xg(!1)},t}();return t}(),PropertyManager=function(){function t(){this.bh=0,this.ch=0,this.dh=0,this.eh=0,this.fh=0,this.gh=[]}function e(t,e){if(!getApp().p.W())return null;var o=getApp().p.uc();if(e===PropertyType.ia){var n=i(o.skinArrayDict,t);return n<0?null:o.skinArrayDict[n]}switch(e){case PropertyType.ja:return o.eyesDict[t];case PropertyType.ka:return o.mouthDict[t];case PropertyType.la:return o.glassesDict[t];case PropertyType.ma:return o.hatDict[t]}return null}function i(t,e){for(var i=0;i<t.length;i++)if(t[i].id==e)return i;return-1}return t.prototype.a=function(){},t.prototype.ha=function(t){switch(t){case PropertyType.ia:return this.bh;case PropertyType.ja:return this.ch;case PropertyType.ka:return this.dh;case PropertyType.la:return this.eh;case PropertyType.ma:return this.fh}return 0},t.prototype.hh=function(t){this.gh.push(t),this.ih()},t.prototype.Ia=function(){if(!getApp().p.W())return any([32,33,34,35]);for(var t=getApp().p.uc(),e=[],i=0;i<t.skinArrayDict.length;i++){var o=t.skinArrayDict[i];this.Ja(o.id,PropertyType.ia)&&e.push(o)}return 0===e.length?0:e[parseInt(e.length*Math.random())].id},t.prototype.jh=function(){if(getApp().p.W){var t=getApp().p.uc().skinArrayDict,e=i(t,this.bh);if(!(e<0)){for(var o=e+1;o<t.length;o++)if(this.Ja(t[o].id,PropertyType.ia))return this.bh=t[o].id,void this.ih();for(var n=0;n<e;n++)if(this.Ja(t[n].id,PropertyType.ia))return this.bh=t[n].id,void this.ih()}}},t.prototype.kh=function(){if(getApp().p.W){var t=getApp().p.uc().skinArrayDict,e=i(t,this.bh);if(!(e<0)){for(var o=e-1;o>=0;o--)if(this.Ja(t[o].id,PropertyType.ia))return this.bh=t[o].id,void this.ih();for(var n=t.length-1;n>e;n--)if(this.Ja(t[n].id,PropertyType.ia))return this.bh=t[n].id,void this.ih()}}},t.prototype.lh=function(t,e){if(!getApp().p.W()||this.Ja(t,e))switch(e){case PropertyType.ia:return void(this.bh!=t&&(this.bh=t,this.ih()));case PropertyType.ja:return void(this.ch!=t&&(this.ch=t,this.ih()));case PropertyType.ka:return void(this.dh!=t&&(this.dh=t,this.ih()));case PropertyType.la:return void(this.eh!=t&&(this.eh=t,this.ih()));case PropertyType.ma:return void(this.fh!=t&&(this.fh=t,this.ih()))}},t.prototype.Ja=function(t,i){var o=e(t,i);return null!=o&&(getApp().u.P()?0==o.price&&!o.nonbuyable||getApp().u.mh(t,i):o.guest)},t.prototype.ih=function(){for(var t=0;t<this.gh.length;t++)this.gh[t]()},t}(),PropertyType=function(){function t(){}return t.ia="SKIN",t.ja="EYES",t.ka="MOUTH",t.la="GLASSES",t.ma="HAT",t}(),Region=function(){function t(t,e,i,o,n,r,s,a,h){this.Bc=new POGL.Vb(t,new POGL.Zb(e,i,o,n)),this.nh=e,this.oh=i,this.qh=o,this.rh=n,this.sh=r||(a||o)/2,this.th=s||(h||n)/2,this.uh=a||o,this.vh=h||n,this.wh=.5-(this.sh-.5*this.uh)/this.qh,this.xh=.5-(this.th-.5*this.vh)/this.rh,this.yh=this.qh/this.uh,this.zh=this.rh/this.vh}return t}(),ResourceManager=function(){function t(){this.ue=[],this.mf=new POGL.Vb(o),this.nf=new POGL.Vb(n),this.kf=new POGL.Vb(r),this.Ah=new Region(s,158,86,67,124,148,63.5,128,128),this.Bh=new Region(s,158,4,87,74,203,63.5,128,128),this.Ch=new Region(s,4,4,146,146,63.5,63.5,128,128),this.Eg=function(){var t=window.document.createElement("canvas");return t.width=80,t.height=80,{Re:t,Fg:t.getContext("2d"),Bc:new POGL.Vb(POGL.Ub.from(t))}}(),this.vd={},this.sd={},this.Dh=[],this.Eh=null}function e(t,e,i,o){var n=parseInt(o.substring(1,3),16),r=parseInt(o.substring(3,5),16),s=parseInt(o.substring(5,7),16),a=window.document.createElement("canvas");a.width=e,a.height=i;var h=a&&a.getContext?a.getContext("2d"):null;h.clearRect(0,0,e,i),h.drawImage(t,0,0,e,i);for(var l=h.getImageData(0,0,e,i),p=e*i,u=0;u<p;u++)l.data[4*u]*=n/256,l.data[4*u+1]*=r/256,l.data[4*u+2]*=s/256;return h.putImageData(l,0,0),a}function i(t,e){for(var i=t.length,o=new Array(t.length),n=0;n<t.length;n++){var r=o[n]=new Image;r.onload=function(){0==--i&&e(o)},r.src=t[n]}}var o=function(){var t=POGL.Ub.from("/images/bg-pattern-pow2-ARENA.png");return t.wrapMode=POGL.ec.fc,t}(),n=function(){var t=POGL.Ub.from("/images/bg-pattern-pow2-TEAM2.png");return t.wrapMode=POGL.ec.fc,t}(),r=POGL.Ub.from("/images/lens.png"),s=POGL.Ub.from("/images/wear-ability.png");return t.prototype.a=function(t){function o(){0==--r&&t()}var n=this,r=5;i(["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABwUlEQVRIS73VB2sWQRDG8d/aoth7R7HEgt//k4hdUexGjSaR2OLKI3PhXmMB4RwYbt/b9+a/88zsbjOxtb/F773nP5tGnk++Dd5a63+K8VtA7z1Bt2Ib5mq8uYKt4Qs+4XPGrbVAN9gvAb33LdiBXeU7sR15H/uKj/iAlfLV1lrez9gGQO89q96NfTiA/diLQDIXy+oT/D0W8RbvsNxay9y6zQBq5XtwEEdxDEcKFGikikWa5Qr8Ci/wEm+wNM5kHVCaZ5WHcQKnyzM+hIDHgCW8xjM8Ls94IdkNNRkD8nEkOYmzOFfPUwUNIAWPpbABJNgTPMSDej5NZq21ZOkHoFoxBY0kCX4R8wUJIBlkflyDFDcZBJDgd3C3IJFsJS08ANJ+KWaCXcDl8vOVUebSVWndWFpytQqcFd/HrfJ7BV1sra0NgKwsqzyDS7iKKwjgeOk/7IGhQ7IXItPzAtzEDdzGo2SXjhoA0T/FjTxZ/bUCpA6RLcX/uaWzg9OqkSMSBXC9skhNFlKH/waYXKLJixyppmvT2gvTbbQCpMenOyoKkuN4msNu2D2THtcjyHQXzggy3ZU5vpEmu/Rnb9Z///UddRYCKBhTvLwAAAAASUVORK5CYII="],function(t){var i=t[0],r=new Array(9);r[0]=e(i,8,8,"#ff66aa"),r[1]=e(i,8,8,"#ff8888"),r[2]=e(i,8,8,"#ffaa66"),r[3]=e(i,8,8,"#aaff66"),r[4]=e(i,8,8,"#88ff88"),r[5]=e(i,8,8,"#66ffaa"),r[6]=e(i,8,8,"#66aaff"),r[7]=e(i,8,8,"#8888ff"),r[8]=e(i,8,8,"#aa66ff"),n.ue=r,o()}),this.vd={},o(),this.sd={},o(),o(),this.Dh=[],o(),this.Eh=null},t}(),ScenesManager=function(){function t(){this.H=new GameViewController,this.F=new MainMenuViewController,this.Fh=new WithdrawConsentViewController,this.Gh=new CoinsViewController,this.Hh=new LeadersViewController,this.Ih=new ProfileViewController,this.Jh=new LoginViewController,this.xa=new SettingsViewController,this.Kh=new SkinsViewController,this.Lh=new StoreViewController,this.Mh=new WearViewController,this.aa=new ToasterContainerViewController,this.ua=new LoadingViewController,this.pa=new PrerollViewController,this.Nh=[],this.Oh=null}function e(t,e){if(0!=e){var i=t[e];arraycopy(t,0,1,e),t[0]=i}}function i(t,e){if(e!=t.length+1){var i=t[e];arraycopy(t,e+1,e,t.length-e-1),t[t.length-1]=i}}function o(t,e){for(var i=0;i<t.length;i++)if(t[i]==e)return i;return-1}return t.prototype.a=function(){this.Nh=[this.H,this.F,this.Fh,this.Gh,this.Hh,this.Ih,this.Jh,this.xa,this.Kh,this.Lh,this.Mh,this.aa,this.ua,this.pa];for(var t=0;t<this.Nh.length;t++)this.Nh[t].a();this.Oh=new BackgroundView(BaseViewController.Ph)},t.prototype.Qa=function(t,e){for(var i=this.Nh.length-1;i>=0;i--)this.Nh[i].Pa(t,e);this.Nh[0]!=this.H&&this.Nh[0]!=this.pa&&null!=this.Oh&&this.Oh.Pa(t,e)},t.prototype.Ra=function(){for(var t=this.Nh.length-1;t>=0;t--)this.Nh[t].Ra();null!=this.Oh&&this.Oh.Ra()},t.prototype.I=function(t){var i=o(this.Nh,t);if(!(i<0)){this.Nh[0].Qh(),e(this.Nh,i),this.Rh()}},t.prototype.Sh=function(){this.Nh[0].Qh();do{i(this.Nh,0)}while(this.Nh[0].lc!=ViewControllerType.Th);this.Rh()},t.prototype.Rh=function(){var t=this.Nh[0];t.Uh(),t.Vh(),this.Wh()},t.prototype.Xh=function(){return 0!=this.Nh.length&&(this.Nh[0].lc==ViewControllerType.Th&&this.aa.Yh())},t.prototype.Wh=function(){this.Xh()&&this.I(this.aa)},t}(),ScoreTableModel=function(){function t(){this.Nf=[],this.Lf=[]}return t.Gg=function(t,e){return{Of:t,M:e}},t.Hg=function(t,e){return{Mf:t,M:e}},t}(),UserManager=function(){function t(){this.Zh=[],this.$h=[],this._h=[],this.ai=!1,this.bi=e,this.ci={},this.di=null}var e="guest";return t.prototype.a=function(){this.ei()},t.prototype.X=function(){return this.ai?this.ci.userId:""},t.prototype.fi=function(){return this.ai?this.ci.username:""},t.prototype.ga=function(){return this.ai?this.ci.nickname:""},t.prototype.gi=function(){return this.ai?this.ci.avatarUrl:GUEST_AVATAR_URL},t.prototype.hi=function(){return this.ai&&this.ci.isBuyer},t.prototype.Z=function(){return this.ai&&this.ci.isConsentGiven},t.prototype.ii=function(){return this.ai?this.ci.coins:0},t.prototype.ji=function(){return this.ai?this.ci.level:1},t.prototype.ki=function(){return this.ai?this.ci.expOnLevel:0},t.prototype.li=function(){return this.ai?this.ci.expToNext:50},t.prototype.mi=function(){return this.ai?this.ci.skinId:0},t.prototype.ni=function(){return this.ai?this.ci.eyesId:0},t.prototype.oi=function(){return this.ai?this.ci.mouthId:0},t.prototype.pi=function(){return this.ai?this.ci.glassesId:0},t.prototype.qi=function(){return this.ai?this.ci.hatId:0},t.prototype.ri=function(){return this.ai?this.ci.highScore:0},t.prototype.si=function(){return this.ai?this.ci.bestSurvivalTimeSec:0},t.prototype.ti=function(){return this.ai?this.ci.kills:0},t.prototype.vi=function(){return this.ai?this.ci.headShots:0},t.prototype.wi=function(){return this.ai?this.ci.sessionsPlayed:0},t.prototype.xi=function(){return this.ai?this.ci.totalPlayTimeSec:0},t.prototype.yi=function(){return this.ai?this.ci.regDate:{}},t.prototype.V=function(t){this.Zh.push(t),t()},t.prototype.zi=function(t){this.$h.push(t),t()},t.prototype.Ai=function(t){this._h.push(t)},t.prototype.mh=function(t,e){var i=this.ci.propertyList;if(!i)return!1;for(var o=0;o<i.length;o++){var n=i[o];if(n.id==t&&n.type===e)return!0}return!1},t.prototype.P=function(){return this.ai},t.prototype.ea=function(){return this.bi},t.prototype.Q=function(t){var e=this;this.ai&&this.Bi(function(i){if(i){var o=e.ii(),n=e.ji();e.ci=i,e.Ci();var r=e.ii(),s=e.ji();s>1&&s!=n&&getApp().s.aa.Di(new LevelUpToasterViewController(s));var a=r-o;a>=20&&getApp().s.aa.Di(new CoinsToasterViewController(a))}t&&t()})},t.prototype.Bi=function(t){$.get(GATEWAY_HOST+"/pub/wuid/"+this.bi+"/getUserData",function(e){t(e.user_data)})},t.prototype.Ei=function(t,e,i){var o=this;$.get(GATEWAY_HOST+"/pub/wuid/"+this.bi+"/buyProperty?id="+t+"&type="+e,function(t){1200==t.code?o.Q(i):i()}).fail(function(){i()})},t.prototype.Fi=function(){var t=this;if(this.Gi(),"undefined"==typeof FB)return void this.Hi();FB.getLoginStatus(function(e){if("connected"===e.status)return void(e.authResponse&&e.authResponse.accessToken?t.Ii("facebook","fb_"+e.authResponse.accessToken):t.Hi());FB.login(function(e){"connected"===e.status&&e.authResponse&&e.authResponse.accessToken?t.Ii("facebook","fb_"+e.authResponse.accessToken):t.Hi()})})},t.prototype.Ji=function(){var t=this;if(this.Gi(),void 0===GoogleAuth)return void this.Hi();console.log("gsi:l"),GoogleAuth.then(function(){if(console.log("gsi:then"),GoogleAuth.isSignedIn.get()){console.log("gsi:sil");var e=GoogleAuth.currentUser.get();return void t.Ii("google","gg_"+e.getAuthResponse().id_token)}GoogleAuth.signIn().then(function(e){return void 0!==e.error?(console.log("gsi:e: "+e.error),void t.Hi()):e.isSignedIn()?(console.log("gsi:s"),void t.Ii("google","gg_"+e.getAuthResponse().id_token)):(console.log("gsi:c"),void t.Hi())})})},t.prototype.Gi=function(){console.log("iSI: "+this.ai);var t=this.bi,i=this.di;switch(this.ai=!1,this.bi=e,this.ci={},this.di=null,setCookie(Cookies.xe,"",60),i){case"facebook":this.Ki();break;case"google":this.Li()}t!==this.bi?this.Mi():this.Ci()},t.prototype.ei=function(){console.log("rs");var t=getCookie(Cookies.xe),e=this;"facebook"==t?(console.log("rs:fb"),function t(){"undefined"!=typeof FB?e.Fi():setTimeout(t,100)}()):"google"==t?(console.log("rs:gg"),function t(){void 0!==GoogleAuth?e.Ji():setTimeout(t,100)}()):(console.log("rs:lo"),this.Gi())},t.prototype.Mi=function(){for(var t=0;t<this.Zh.length;t++)this.Zh[t]();this.Ci()},t.prototype.Ci=function(){for(var t=0;t<this.$h.length;t++)this.$h[t]();var e=this._h;this._h=[];for(var i=0;i<e.length;i++)e[i]()},t.prototype.Ii=function(t,e){var i=this;$.get(GATEWAY_HOST+"/pub/wuid/"+e+"/login",function(o){if(o&&o.user_data){var n=this.bi;i.ai=!0,i.bi=e,i.ci=o.user_data,i.di=t,setCookie(Cookies.xe,i.di,60),n!==e?i.Mi():i.Ci()}else i.Hi()}).fail(function(){i.Hi()})},t.prototype.Hi=function(){this.Gi()},t.prototype.Ki=function(){console.log("lo:fb"),FB.logout(function(){})},t.prototype.Li=function(){console.log("lo:gg"),GoogleAuth.signOut()},t}(),WMGameBackgroundSprite=function(){function t(){this.Ni={},this.Ni[r]=[1,.5,.25,.5],this.Ni[s]=POGL.Vb.WHITE,this.Ni[a]=[0,0],this.Ni[h]=[0,0];var t=POGL.Yb.from(u,c,this.Ni);this.jf=new POGL.bc(p,t)}var e="a1_"+randStr(),i="a2_"+randStr(),o=atob("dHJhbnNsYXRpb25NYXRyaXg="),n=atob("cHJvamVjdGlvbk1hdHJpeA=="),r="u3_"+randStr(),s="u4_"+randStr(),a="u5_"+randStr(),h="u6_"+randStr(),l="v1_"+randStr(),p=(new POGL.ac).addAttribute(e,[-.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5],2).addAttribute(i,[-.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5],2),u=atob("cHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7YXR0cmlidXRlIHZlYzIg")+e+atob("O2F0dHJpYnV0ZSB2ZWMyIA==")+i+atob("O3VuaWZvcm0gbWF0MyA=")+o+atob("O3VuaWZvcm0gbWF0MyA=")+n+atob("O3ZhcnlpbmcgdmVjMiA=")+l+atob("O3ZvaWQgbWFpbigpew==")+l+atob("PQ==")+i+atob("O2dsX1Bvc2l0aW9uPXZlYzQoKA==")+n+atob("Kg==")+o+atob("KnZlYzMo")+e+atob("LDEuMCkpLnh5LDAuMCwxLjApO30="),c=atob("cHJlY2lzaW9uIGhpZ2hwIGZsb2F0O3ZhcnlpbmcgdmVjMiA=")+l+atob("O3VuaWZvcm0gdmVjNCA=")+r+atob("O3VuaWZvcm0gc2FtcGxlcjJEIA==")+s+atob("O3VuaWZvcm0gdmVjMiA=")+a+atob("O3VuaWZvcm0gdmVjMiA=")+h+atob("O3ZvaWQgbWFpbigpe3ZlYzIgY29vcmQ9")+l+atob("Kg==")+a+atob("Kw==")+h+atob("O3ZlYzQgdl9jb2xvcl9taXg9")+r+atob("O2dsX0ZyYWdDb2xvcj10ZXh0dXJlMkQo")+s+atob("LGNvb3JkKSowLjMrdl9jb2xvcl9taXguYSp2ZWM0KHZfY29sb3JfbWl4LnJnYiwwLjApO30=");return t.prototype.sf=function(t,e,i,o){var n=this.Ni[r];n[0]=t,n[1]=e,n[2]=i,n[3]=o},t.prototype.lf=function(t){this.Ni[s]=t},t.prototype.Ce=function(t,e,i,o){this.jf.position.x=t,this.jf.position.y=e,this.jf.scale.x=i,this.jf.scale.y=o;var n=this.Ni[a];n[0]=.2520615384615385*i,n[1]=.4357063736263738*o;var r=this.Ni[h];r[0]=.2520615384615385*t,r[1]=.4357063736263738*e},t}(),WMSprite=function(){function t(){this.Wg=new POGL.$b,this.Oi=0,this.Pi=0}return t.prototype.Xg=function(t){this.Wg.texture=t.Bc,this.Wg.anchor.set(t.wh,t.xh),this.Oi=t.yh,this.Pi=t.zh},t.prototype._g=function(t){this.Wg.width=t*this.Oi,this.Wg.height=t*this.Pi},t.prototype.Qi=function(t){this.Wg.rotation=t},t.prototype.$g=function(t,e){this.Wg.position.set(t,e)},t.prototype.xg=function(t){this.Wg.visible=t},t.prototype.Ri=function(){return this.Wg.visible},t.prototype.ah=function(t){this.Wg.alpha=t},t.prototype.xf=function(){return this.Wg},t.prototype.Vg=function(){pixijs_removeFromParent(this.Wg)},t}(),Worm=function(){function t(t){this._a=t,this.Gb=new Worm.Config,this.Bb=!1,this.Cb=!0,this.Si=!1,this.xb=0,this.Ti=0,this.Db=1,this.Ui=0,this.M=0,this.qf={},this.Vi=0,this.Wi=0,this.Xi=new Float32Array(2*e),this.Yi=new Float32Array(2*e),this.rf=new Float32Array(2*e),this.Zi=null,this.$i=null,this._i=null,this.Nb()}var e=200;return t.prototype.Eb=function(){null!=this.$i&&pixijs_removeFromParent(this.$i.Cf),null!=this._i&&pixijs_removeFromParent(this._i)},t.prototype.Nb=function(){this.tg(.25),this.Gb.Wc="",this.Cb=!0,this.qf={},this.xg(!1)},t.prototype.qg=function(t){this.Gb=t,this.aj(this.Bb)},t.prototype.xg=function(t){var e=this.Bb;this.Bb=t,this.aj(e)},t.prototype.tg=function(t){this.M=50*t;var i=t;t>this._a.Oe&&(i=Math.atan((t-this._a.Oe)/this._a.Pe)*this._a.Pe+this._a.Oe);var o=Math.sqrt(4*Math.pow(5*i,.707106781186548)+25),n=Math.min(e,Math.max(3,5*(o-5)+1)),r=this.Wi;if(this.xb=.025*(5+.9*o),this.Wi=Math.floor(n),this.Ti=n-this.Wi,r>0&&r<this.Wi)for(var s=this.Xi[2*r-2],a=this.Xi[2*r-1],h=this.Yi[2*r-2],l=this.Yi[2*r-1],p=this.rf[2*r-2],u=this.rf[2*r-1],c=r;c<this.Wi;c++)this.Xi[2*c]=s,this.Xi[2*c+1]=a,this.Yi[2*c]=h,this.Yi[2*c+1]=l,this.rf[2*c]=p,this.rf[2*c+1]=u},t.prototype.wg=function(t,e,i){this.Vi=t,this.Wi=i;for(var o=0;o<this.Wi;o++)this.rf[2*o]=this.Yi[2*o]=this.Xi[2*o]=e(),this.rf[2*o+1]=this.Yi[2*o+1]=this.Xi[2*o+1]=e()},t.prototype.vg=function(t,e,i,o){this.Vi=t,this.Si=o,this.bj(e,i,this.Wi,this.Xi);for(var n=0;n<this.Wi;n++)this.Yi[2*n]=this.Xi[2*n],this.Yi[2*n+1]=this.Xi[2*n+1]},t.prototype.bj=function(t,e,i,o){var n=o[0],r=void 0,s=o[1],a=void 0,h=Math.hypot(n-t,s-e);if(h>0){o[0]=t,o[1]=e;for(var l=this.xb/(this.xb+h),p=1-2*l,u=1,c=i-1;u<c;u++)r=o[2*u],o[2*u]=o[2*u-2]*p+(r+n)*l,n=r,a=o[2*u+1],o[2*u+1]=o[2*u-1]*p+(a+s)*l,s=a;l=this.Ti*this.xb/(this.Ti*this.xb+h),p=1-2*l,o[2*i-2]=o[2*i-4]*p+(o[2*i-2]+n)*l,o[2*i-1]=o[2*i-3]*p+(o[2*i-1]+s)*l}},t.prototype.sg=function(t,e){for(var i=1e6,o=t,n=e,r=0;r<this.Wi;r++){var s=this.rf[2*r],a=this.rf[2*r+1],h=Math.hypot(t-s,e-a);h<i&&(i=h,o=s,n=a)}return{x:o,y:n,distance:i}},t.prototype.pb=function(t){this.Zi=t},t.prototype.zb=function(t,e){this.Db=timeDeltaIncrement(this.Db,this.Cb?this.Si?.9+.1*Math.cos(t/400*Math.PI):1:0,e,1/800),this.Ui=timeDeltaIncrement(this.Ui,this.Cb?this.Si?1:0:1,e,.0025),null!=this.$i&&(this.$i.Cf.alpha=this.Db),null!=this._i&&(this._i.alpha=this.Db)},t.prototype.Ab=function(t,e,i){if(this.Cb&&this.Bb&&this.Vi>0){for(;t>this.Vi;){this.Vi+=95;var o=this.Yi[0]-this.Yi[2],n=this.Yi[1]-this.Yi[3],r=Math.hypot(o,n),s=this.Yi[0]+o/r*(this.Si?8:4)*95/1e3,a=this.Yi[1]+n/r*(this.Si?8:4)*95/1e3;this.bj(s,a,this.Wi,this.Yi)}for(var h=Math.min(.5,1*e/(this.Vi-t+e)),l=0;l<this.Wi;l++)this.rf[2*l]+=h*(this.Yi[2*l]-this.rf[2*l]),this.rf[2*l+1]+=h*(this.Yi[2*l+1]-this.rf[2*l+1])}this.Bb&&this.cj(t,e,i)},t.prototype.cj=function(t,e,i){null!=this.$i&&this.$i.dj(this,t,e,i),null!=this._i&&(this._i.tf.x=this.rf[0],this._i.tf.y=this.rf[1]-3*this.xb)},t.prototype.aj=function(t){this.Bb?t||this.ej():(null!=this.$i&&pixijs_removeFromParent(this.$i.Cf),null!=this._i&&pixijs_removeFromParent(this._i))},t.prototype.ej=function(){var t=getApp();null==this.$i?this.$i=new WormSpriteTree:pixijs_removeFromParent(this.$i.Cf),this.$i.Ug(t.o._a.Me,t.p.xc().$c(this.Gb.Pf),t.p.xc().Zc(this.Gb.Qf),t.p.xc()._c(this.Gb.mg),t.p.xc().ad(this.Gb.ng),t.p.xc().bd(this.Gb.og),t.p.xc().cd(this.Gb.pg)),null==this._i?(this._i=new WormLabelNode(""),this._i.style.fontFamily="PTSans",this._i.anchor.set(.5)):pixijs_removeFromParent(this._i),this._i.style.fontSize=14,this._i.style.fill=t.p.xc().Zc(this.Gb.Qf).Vc,this._i.text=this.Gb.Wc,this.Zi.Bf(this.Gb.Fb,this.$i,this._i)},t.Config=function(){function t(){this.Fb=0,this.Pf=GameParams.TEAM_DEFAULT,this.Qf=0,this.mg=0,this.ng=0,this.og=0,this.pg=0,this.Wc=""}return t}(),t}(),WormLabelNode=function(){return extend(POGL._b,function(t,e,i){POGL._b.call(this,t,e,i),this.tf={x:0,y:0}})}(),WormSpriteTree=function(){function t(){this.Cf=new POGL.Tb,this.Cf.sortableChildren=!0,this.fj=new b,this.fj.zIndex=e*(2*(i+1)+1+3),this.gj=0,this.hj=new Array(i),this.hj[0]=this.ij(0,new WMSprite,new WMSprite)
;for(var t=1;t<i;t++)this.hj[t]=this.ij(t,new WMSprite,new WMSprite);this.jj=0,this.kj=0,this.lj=0}var e=.001,i=797,o=.1*Math.PI,n=-.06640625,r=.84375,s=.2578125,a=-.03515625,h=-.0625,l=.5625,p=3*n+r,u=s-3*n,c=n+a,f=.375,d=.75,g=h+h,y=3*a+s,w=r-3*a,v=a+n;t.prototype.ij=function(t,o,n){var r=new k(o,n);return o.Wg.zIndex=e*(2*(i-t)+1+3),n.Wg.zIndex=e*(2*(i-t)-2+3),r},t.prototype.Ug=function(t,e,i,o,n,r,s){var a=i.Tc,h=t==GameMode.Le?e.Xc.Uc:i.Uc;if(a.length>0&&h.length>0)for(var l=0;l<this.hj.length;l++)this.hj[l].yf.Xg(a[l%a.length]),this.hj[l].Af.Xg(h[l%h.length]);this.fj.Ug(o,n,r,s)};var b=function(){var t=extend(POGL.Tb,function(){POGL.Tb.call(this),this.sortableChildren=!0,this.mj=[],this.nj=[],this.oj=[],this.pj=[],this.qj=new POGL.Tb,this.rj=[];for(var t=0;t<4;t++){var e=new WMSprite;e.Xg(getApp().q.Ah),this.qj.addChild(e.Wg),this.rj.push(e)}this.qj.zIndex=.0011,this.addChild(this.qj),this.sj(),this.tj=new WMSprite,this.tj.Xg(getApp().q.Bh),this.tj.Wg.zIndex=.001,this.addChild(this.tj.Wg),this.uj()});return t.prototype.Ug=function(t,e,i,o){this.vj(.002,this.mj,t.Tc),this.vj(.003,this.nj,e.Tc),this.vj(.004,this.pj,o.Tc),this.vj(.005,this.oj,i.Tc)},t.prototype.vj=function(t,e,i){for(;i.length>e.length;){var o=new WMSprite;e.push(o),this.addChild(o.xf())}for(;i.length<e.length;){e.pop().Vg()}for(var n=t,r=0;r<i.length;r++){n+=1e-4;var s=e[r];s.Xg(i[r]),s.Wg.zIndex=n}},t.prototype.Zg=function(t,e,i,o){this.visible=!0,this.position.set(t,e),this.rotation=o;for(var n=0;n<this.mj.length;n++)this.mj[n]._g(i);for(var r=0;r<this.nj.length;r++)this.nj[r]._g(i);for(var s=0;s<this.oj.length;s++)this.oj[s]._g(i);for(var a=0;a<this.pj.length;a++)this.pj[a]._g(i)},t.prototype.Yg=function(){this.visible=!1},t.prototype.wj=function(t,e,i,o){this.qj.visible=!0;for(var n=i/1e3,r=1/this.rj.length,s=0;s<this.rj.length;s++){var a=1-(n+r*s)%1;this.rj[s].Wg.alpha=1-a,this.rj[s]._g(e*(.5+4.5*a))}},t.prototype.sj=function(){this.qj.visible=!1},t.prototype.xj=function(t,e,i,o){this.tj.Wg.visible=!0,this.tj.Wg.alpha=timeDeltaIncrement(this.tj.Wg.alpha,t.Si?.9:.2,o,.0025),this.tj._g(e)},t.prototype.uj=function(){this.tj.Wg.visible=!1},t}();t.prototype.yj=function(t){return this.kj+this.lj*Math.sin(t*o-this.jj)},t.prototype.dj=function(t,e,i,o){var b=2*t.xb,m=t.rf,j=t.Wi,C=4*j-3,A=C;this.jj=e/400*Math.PI,this.kj=1.5*b,this.lj=.15*b*t.Ui;var P=void 0,V=void 0,M=void 0,B=void 0,T=void 0,I=void 0,x=void 0,S=void 0;if(V=m[0],I=m[1],o(V,I)){M=m[2],x=m[3],B=m[4],S=m[5];var L=Math.atan2(S+2*I-3*x,B+2*V-3*M);this.fj.Zg(V,I,b,L),this.hj[0].Zg(V,I,b,this.yj(0),L),this.hj[1].Zg(p*V+u*M+c*B,p*I+u*x+c*S,b,this.yj(1),k.angleBetween(this.hj[0],this.hj[2])),this.hj[2].Zg(f*V+d*M+g*B,f*I+d*x+g*S,b,this.yj(2),k.angleBetween(this.hj[1],this.hj[3])),this.hj[3].Zg(y*V+w*M+v*B,y*I+w*x+v*S,b,this.yj(3),k.angleBetween(this.hj[2],this.hj[4]))}else this.fj.Yg(),this.hj[0].Yg(),this.hj[1].Yg(),this.hj[2].Yg(),this.hj[3].Yg();for(var O=4,D=2,N=2*j-4;D<N;D+=2)V=m[D],I=m[D+1],o(V,I)?(P=m[D-2],T=m[D-1],M=m[D+2],x=m[D+3],B=m[D+4],S=m[D+5],this.hj[O].Zg(V,I,b,this.yj(O),k.angleBetween(this.hj[O-1],this.hj[O+1])),O++,this.hj[O].Zg(n*P+r*V+s*M+a*B,n*T+r*I+s*x+a*S,b,this.yj(O),k.angleBetween(this.hj[O-1],this.hj[O+1])),O++,this.hj[O].Zg(h*P+l*V+l*M+h*B,h*T+l*I+l*x+h*S,b,this.yj(O),k.angleBetween(this.hj[O-1],this.hj[O+1])),O++,this.hj[O].Zg(a*P+s*V+r*M+n*B,a*T+s*I+r*x+n*S,b,this.yj(O),k.angleBetween(this.hj[O-1],this.hj[O+1])),O++):(this.hj[O].Yg(),O++,this.hj[O].Yg(),O++,this.hj[O].Yg(),O++,this.hj[O].Yg(),O++);for(V=m[2*j-4],I=m[2*j-3],o(V,I)?(P=m[2*j-6],T=m[2*j-5],M=m[2*j-2],x=m[2*j-1],this.hj[C-5].Zg(V,I,b,this.yj(C-5),k.angleBetween(this.hj[C-6],this.hj[C-4])),this.hj[C-4].Zg(v*P+w*V+y*M,v*T+w*I+y*x,b,this.yj(C-4),k.angleBetween(this.hj[C-5],this.hj[C-3])),this.hj[C-3].Zg(g*P+d*V+f*M,g*T+d*I+f*x,b,this.yj(C-3),k.angleBetween(this.hj[C-4],this.hj[C-2])),this.hj[C-2].Zg(c*P+u*V+p*M,c*T+u*I+p*x,b,this.yj(C-2),k.angleBetween(this.hj[C-3],this.hj[C-1])),this.hj[C-1].Zg(M,x,b,this.yj(C-1),k.angleBetween(this.hj[C-2],this.hj[C-1]))):(this.hj[C-5].Yg(),this.hj[C-4].Yg(),this.hj[C-3].Yg(),this.hj[C-2].Yg(),this.hj[C-1].Yg()),0==this.gj&&A>0&&this.Cf.addChild(this.fj),this.gj>0&&0==A&&pixijs_removeFromParent(this.fj);this.gj<A;)this.Cf.addChild(this.hj[this.gj].yf.xf()),this.Cf.addChild(this.hj[this.gj].Af.xf()),this.gj+=1;for(;this.gj>A;)this.gj-=1,this.hj[this.gj].Af.Vg(),this.hj[this.gj].yf.Vg();var _=t.qf[Ability.MAGNETIC_TYPE];this.hj[0].Ri()&&null!=_&&_.mc?this.fj.wj(t,b,e,i):this.fj.sj();var E=t.qf[Ability.VELOCITY_TYPE];this.hj[0].Ri()&&null!=E&&E.mc?this.fj.xj(t,e,i):this.fj.uj()};var k=function(){function t(t,e){this.yf=t,this.yf.xg(!1),this.Af=e,this.Af.xg(!1)}return t.prototype.Zg=function(t,e,i,o,n){this.yf.xg(!0),this.yf.$g(t,e),this.yf._g(i),this.yf.Qi(n),this.Af.xg(!0),this.Af.$g(t,e),this.Af._g(o),this.Af.Qi(n)},t.prototype.Yg=function(){this.yf.xg(!1),this.Af.xg(!1)},t.prototype.Ri=function(){return this.yf.Ri()},t.angleBetween=function(t,e){return Math.atan2(t.yf.Wg.position.y-e.yf.Wg.position.y,t.yf.Wg.position.x-e.yf.Wg.position.x)},t}();return t}(),WormView=function(){function t(t){this.zj=t,this.Re=t.get()[0],this.De=new POGL.Wb({view:this.Re,transparent:!0}),this.Aj=new WormSpriteTree,this.Aj.Cf.addChild(this.Aj.fj),this.Bj=0,this.Cj=0,this.yg=1,this.bh=0,this.ch=0,this.dh=0,this.eh=0,this.fh=0,this.Dj=!1,this.Ej=!1,this.Fj=!1,this.Gj=!1,this.Hj=!1,this.Ij=!1,this.Jj=!1,this.Kj=!1,this.Lj=!1,this.Mj=!1,this.Ra(),this.zb();var e=this;getApp().p.ca(function(){getApp().p.W()&&e.zb()})}return t.prototype.zb=function(){var t=getApp();this.Aj.Ug(GameMode.Ke,null,t.p.xc().Zc(this.bh),t.p.xc()._c(this.ch),t.p.xc().ad(this.dh),t.p.xc().bd(this.eh),t.p.xc().cd(this.fh))},t.prototype.Nj=function(t,e,i){this.bh=t,this.Dj=e,this.Ij=i,this.zb()},t.prototype.Oj=function(t,e,i){this.ch=t,this.Ej=e,this.Jj=i,this.zb()},t.prototype.Pj=function(t,e,i){this.dh=t,this.Fj=e,this.Kj=i,this.zb()},t.prototype.Qj=function(t,e,i){this.eh=t,this.Gj=e,this.Lj=i,this.zb()},t.prototype.Rj=function(t,e,i){this.fh=t,this.Hj=e,this.Mj=i,this.zb()},t.prototype.Ra=function(){var t=window.devicePixelRatio?window.devicePixelRatio:1;this.Bj=this.zj.width(),this.Cj=this.zj.height(),this.De.resize(this.Bj,this.Cj),this.De.resolution=t,this.Re.width=t*this.Bj,this.Re.height=t*this.Cj,this.yg=this.Cj/4;var e=minmax(1,this.Aj.hj.length,2*Math.floor(this.Bj/this.yg)-5);if(this.Aj.gj!=e){for(var i=e;i<this.Aj.hj.length;i++)this.Aj.hj[i].Yg();for(;this.Aj.gj<e;)this.Aj.Cf.addChild(this.Aj.hj[this.Aj.gj].yf.xf()),this.Aj.Cf.addChild(this.Aj.hj[this.Aj.gj].Af.xf()),this.Aj.gj+=1;for(;this.Aj.gj>e;)this.Aj.gj-=1,this.Aj.hj[this.Aj.gj].Af.Vg(),this.Aj.hj[this.Aj.gj].yf.Vg()}},t.prototype.Pa=function(){if(getApp().p.W){for(var t=Date.now(),e=t/200,i=Math.sin(e),o=this.yg,n=1.5*this.yg,r=this.Bj-.5*(this.Bj-.5*o*(this.Aj.gj-1)),s=.5*this.Cj,a=0,h=0,l=-1;l<this.Aj.gj;l++){var p=l,u=Math.cos(1*p/12*Math.PI-e)*(1-Math.pow(16,-1*p/12));if(l>=0){var c=r+-.5*o*p,f=s+.5*o*u,d=2*o,g=2*n,y=Math.atan2(h-u,p-a);0==l&&this.Aj.fj.Zg(c,f,d,y),this.Aj.hj[l].Zg(c,f,d,g,y);var w=this.Dj?this.Ij?.4+.2*i:.9+.1*i:this.Ij?.4:1;this.Aj.hj[l].yf.ah(w),this.Aj.hj[l].Af.ah(w)}a=p,h=u}for(var v=0;v<this.Aj.fj.mj.length;v++){var b=this.Ej?this.Jj?.4+.2*i:.9+.1*i:this.Jj?.4:1;this.Aj.fj.mj[v].ah(b)}for(var k=0;k<this.Aj.fj.nj.length;k++){var m=this.Fj?this.Kj?.4+.2*i:.9+.1*i:this.Kj?.4:1;this.Aj.fj.nj[k].ah(m)}for(var j=0;j<this.Aj.fj.oj.length;j++){var C=this.Gj?this.Lj?.4+.2*i:.9+.1*i:this.Lj?.4:1;this.Aj.fj.oj[j].ah(C)}for(var A=0;A<this.Aj.fj.pj.length;A++){var P=this.Hj?this.Mj?.4+.2*i:.9+.1*i:this.Mj?.4:1;this.Aj.fj.pj[A].ah(P)}this.De.render(this.Aj.Cf)}},t}(),BaseViewController=function(){function t(t){this.lc=t}return t.Sj=$("#game-view"),t.Tj=$("#results-view"),t.Uj=$("#main-menu-view"),t.Vj=$("#popup-view"),t.Wj=$("#toaster-view"),t.Xj=$("#loading-view"),t.Yj=$("#stretch-box"),t.Ph=$("#background-canvas"),t.Zj=$("#social-buttons"),t.$j=$("#markup-wrap"),t.prototype.a=function(){},t.prototype.Uh=function(){},t.prototype.Vh=function(){},t.prototype.Qh=function(){},t.prototype.Ra=function(){},t.prototype.Pa=function(t,e){},t}(),GameViewController=function(){function t(t,e,i,o,n,r){var s='<div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 456 456" xml:space="preserve"><rect x="0" y="0" width="456" height="456" fill="#F7941D"/><path d="M118.1 138.7c10.9 27 24.8 52.4 43 75.2 2.4 3 5.5 5.7 8.7 7.9 4.7 3.2 9.1 2.1 11-3.3 2-5.6 3.9-17 4-23 0.3-15.4 0-25.6-0.9-41 -0.5-9.9-4.1-18.6-18.6-21.2 -4.5-0.8-4.9-4.5-2-8.2 6-7.7 14.4-8.9 23.4-9.4 14.7-0.8 29.5-0.1 44.2 0 6 0.1 12 0.5 17.9 1.8 7.7 1.7 11.8 7.1 13.1 14.6 0.7 3.9 1 7.9 0.9 11.8 -0.4 16.9-1.2 33.7-1.4 50.6 -0.1 6.6 0.4 13.4 1.8 19.8 2 9 8.1 11.2 14.3 4.7 7.9-8.2 14.9-17.5 21.5-26.9 11.9-17.1 20.8-35.9 28.5-55.3 4-10 7-12.2 17.8-12.2 20.2 0 40.4-0.1 60.7 0 3.6 0 7.3 0.4 10.7 1.4 5.5 1.8 7.7 6.2 6.4 11.9 -3 13.3-10.2 24.6-17.9 35.5 -12.4 17.5-25.3 34.5-38 51.8 -1.6 2.2-3 4.5-4.4 6.9 -4.7 8.6-4.4 13.4 2.5 20.5 11 11.3 22.8 22 33.4 33.6 7.7 8.5 14.9 17.7 21 27.4 7.8 12.2 3 23.8-11.5 25.8 -9.1 1.3-53.6 0-55.9 0 -12-0.1-22.5-4.2-30.9-12.3 -9.4-9.1-17.9-19-27-28.4 -2.7-2.8-5.6-5.6-8.7-8 -7.4-5.6-14.6-4.4-18.1 4.3 -2.9 7.4-5.5 27-5.6 28.7 -0.6 8.7-6.2 14.3-16 14.8 -28.2 1.5-55.6-1.6-81.1-15.3 -21.6-11.6-38.9-27.9-53.8-47 -23.7-30.3-42.5-63.6-59.6-97.9 -0.9-1.8-18.2-38.7-18.7-40.4 -1.5-5.8-0.1-11.4 4.8-13.3 3.1-1.2 60.2 0 61.2 0C108 125.4 114.2 129.2 118.1 138.7z" fill="#FFF"/></svg><span>'+t+"</span></div>";return"undefined"!=typeof VK&&void 0!==VK.Share?VK.Share.button({noparse:!0,url:e,title:o,description:n,image:r},{type:"custom",text:s}):$(s)}function e(t,e,i,o,n,r){var s='<div><svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0" y="0" viewBox="0 0 456 456" xml:space="preserve"><rect x="0" y="0" width="456" height="456" fill="#F7941D"/><path d="M242.7 456V279.7h-59.3v-71.9h59.3v-60.4c0-43.9 35.6-79.5 79.5-79.5h62v64.6h-44.4c-13.9 0-25.3 11.3-25.3 25.3v50h68.5l-9.5 71.9h-59.1V456z" fill="#fff"/></svg><span>'+t+"</span></div>",a=$(s);return a.click(function(){"undefined"!=typeof FB&&void 0!==FB.ui&&FB.ui({method:"feed",display:"popup",link:e,name:i,caption:o,description:n,picture:r},function(){})}),a}var i=$("#final-caption"),o=$("#final-continue"),n=$("#congrats-bg"),r=$("#unl6wj4czdl84o9b"),s=($("#congrats"),$("#final-share-vk")),a=$("#final-share-fb"),h=$("#final-message"),l=$("#final-score"),p=$("#final-place"),u=$("#final-board"),c=$("#game-canvas"),f=extend(BaseViewController,function(){BaseViewController.call(this,ViewControllerType._j);var t=this,e=getApp(),n=c.get()[0];console.log("sSE="+env.ak),s.toggle(env.ak),a.toggle(env.ak),i.text(i18n("index.game.result.title")),o.text(i18n("index.game.result.continue")),o.click(function(){e.r.wd(),e.f.Ma.c(),e.r.G(AudioManager.AudioState.F),e.s.I(e.s.F)}),$("html").keydown(function(e){32==e.keyCode&&(t.bk=!0)}).keyup(function(e){32==e.keyCode&&(t.bk=!1)}),n.addEventListener("touchmove",function(e){(e=e||window.event)&&(e=e.touches[0],void 0!==e.clientX?t.ck=Math.atan2(e.clientY-.5*n.offsetHeight,e.clientX-.5*n.offsetWidth):t.ck=Math.atan2(e.pageY-.5*n.offsetHeight,e.pageX-.5*n.offsetWidth))},!0),n.addEventListener("touchstart",function(e){(e=e||window.event)&&(t.bk=e.touches.length>=2),e.preventDefault()},!0),n.addEventListener("touchend",function(e){(e=e||window.event)&&(t.bk=e.touches.length>=2)},!0),n.addEventListener("mousemove",function(e){(e=e||window.event&&void 0!==e.clientX)&&(t.ck=Math.atan2(e.clientY-.5*n.offsetHeight,e.clientX-.5*n.offsetWidth))},!0),n.addEventListener("mousedown",function(e){t.bk=!0},!0),n.addEventListener("mouseup",function(e){t.bk=!1},!0),this.qb=new GameView(c),this.Ya=d.J,this.ck=0,this.bk=!1});f.prototype.a=function(){},f.prototype.Uh=function(){this.Ya==d.J?(BaseViewController.Sj.stop(),BaseViewController.Sj.fadeIn(500),BaseViewController.Tj.stop(),BaseViewController.Tj.fadeOut(1),BaseViewController.Uj.stop(),BaseViewController.Uj.fadeOut(50),BaseViewController.Vj.stop(),BaseViewController.Vj.fadeOut(50),BaseViewController.Wj.stop(),BaseViewController.Wj.fadeOut(50),BaseViewController.Xj.stop(),BaseViewController.Xj.fadeOut(50),BaseViewController.Yj.stop(),BaseViewController.Yj.fadeOut(1),BaseViewController.Ph.stop(),BaseViewController.Ph.fadeOut(50),BaseViewController.Zj.stop(),BaseViewController.Zj.fadeOut(50),BaseViewController.$j.stop(),BaseViewController.$j.fadeOut(50)):(BaseViewController.Sj.stop(),BaseViewController.Sj.fadeIn(500),BaseViewController.Tj.stop(),BaseViewController.Tj.fadeIn(500),BaseViewController.Uj.stop(),BaseViewController.Uj.fadeOut(50),BaseViewController.Vj.stop(),BaseViewController.Vj.fadeOut(50),BaseViewController.Wj.stop(),BaseViewController.Wj.fadeOut(50),BaseViewController.Xj.stop(),BaseViewController.Xj.fadeOut(50),BaseViewController.Yj.stop(),BaseViewController.Yj.fadeOut(1),BaseViewController.Ph.stop(),BaseViewController.Ph.fadeOut(50),BaseViewController.Zj.stop(),BaseViewController.Zj.fadeOut(50),BaseViewController.$j.stop(),BaseViewController.$j.fadeOut(50))},f.prototype.J=function(){return this.Ya=d.J,this},f.prototype.Fa=function(){console.log("re");return n.hide(),setTimeout(function(){console.log("fi_bg"),n.fadeIn(500)},3e3),r.hide(),setTimeout(function(){console.log("fi_aw"),r.fadeIn(500)},500),this.Ya=d.Fa,this},f.prototype.Vh=function(){this.bk=!1,this.qb.Ra(),this.Ya==d.Fa&&getApp().r.Ad()},f.prototype.Ra=function(){this.qb.Ra()},f.prototype.Pa=function(t,e){this.qb.Pa(t,e)},f.prototype.Da=function(i,o,n){var r=void 0,c=void 0,f=void 0;if(o>=1&&o<=10?(r=i18n("index.game.result.place.i"+o),c=i18n("index.game.result.placeInBoard"),f=i18n("index.game.social.shareResult.messGood").replace("{0}",n).replace("{1}",i).replace("{2}",r)):(r="",c=i18n("index.game.result.tryHit"),f=i18n("index.game.social.shareResult.messNorm").replace("{0}",n).replace("{1}",i)),h.html(i18n("index.game.result.your")),l.html(i),p.html(r),u.html(c),env.ak){var d=i18n("index.game.result.share");i18n("index.game.social.shareResult.caption");s.empty().append(t(d,"https://wormate.io","wormate.io",f,f,"https://wormate.io/images/og-share-img-new.jpg")),a.empty().append(e(d,"https://wormate.io","wormate.io",f,f,"https://wormate.io/images/og-share-img-new.jpg"))}},f.prototype.T=function(){return this.ck},f.prototype.U=function(){return this.bk};var d={J:0,Fa:1};return f}(),LoadingViewController=function(){var t=$("#loading-worm-a"),e=$("#loading-worm-b"),i=$("#loading-worm-c"),o=["100% 100%","100% 200%","200% 100%","200% 200%"],n=extend(BaseViewController,function(){BaseViewController.call(this,ViewControllerType._j)});return n.prototype.a=function(){},n.prototype.Uh=function(){BaseViewController.Sj.stop(),BaseViewController.Sj.fadeOut(50),BaseViewController.Tj.stop(),BaseViewController.Tj.fadeOut(50),BaseViewController.Uj.stop(),BaseViewController.Uj.fadeOut(50),BaseViewController.Vj.stop(),BaseViewController.Vj.fadeOut(50),BaseViewController.Wj.stop(),BaseViewController.Wj.fadeOut(50),BaseViewController.Xj.stop(),BaseViewController.Xj.fadeIn(500),BaseViewController.Yj.stop(),BaseViewController.Yj.fadeIn(1),BaseViewController.Ph.stop(),BaseViewController.Ph.fadeIn(500),BaseViewController.Zj.stop(),BaseViewController.Zj.fadeOut(50),BaseViewController.$j.stop(),BaseViewController.$j.fadeOut(50)},n.prototype.Vh=function(){this.dk()},n.prototype.dk=function(){t.css("background-position","100% 200%");for(var n=0;n<o.length;n++){var r=Math.floor(Math.random()*o.length),s=o[n];o[n]=o[r],o[r]=s}t.css("background-position",o[0]),e.css("background-position",o[1]),i.css("background-position",o[2])},n}(),MainMenuViewController=function(){var t=$("#mm-skin-canv"),e=$("#mm-skin-prev"),i=$("#mm-skin-next"),o=$("#mm-skin-over"),n=$("#mm-skin-over-button-list"),r=$("#mm-params-nickname"),s=$https://wormate.io/js/game.js"#mm-params-game-mode"),a=$("#mm-action-buttons"),h=$("#mm-action-play"),l=$("#mm-action-guest"),p=$("#mm-action-login"),u=$("#mm-player-info"),c=$("#mm-store"),f=$("#mm-leaders"),d=$("#mm-settings"),g=$("#mm-coins-box"),y=$("#mm-player-avatar"),w=$("#mm-player-username"),v=$("#mm-coins-val"),b=$("#mm-player-exp-bar"),k=$("#mm-player-exp-val"),m=$("#mm-player-level"),j=extend(BaseViewController,function(){BaseViewController.call(this,ViewControllerType.Th);var o=getApp();this.ek=new WormView(t),s.click(function(){o.r.wd()}),t.click(function(){o.u.P()&&(o.r.wd(),o.s.I(o.s.Kh))}),e.click(function(){o.r.wd(),o.t.kh()}),i.click(function(){o.r.wd(),o.t.jh()}),r.keypress(function(t){13==t.keyCode&&o.na()}),h.click(function(){o.r.wd(),o.na()}),l.click(function(){o.r.wd(),o.na()}),p.click(function(){o.r.wd(),o.s.I(o.s.Jh)}),d.click(function(){o.r.wd(),o.s.I(o.s.xa)}),u.click(function(){o.u.P()&&(o.r.wd(),o.s.I(o.s.Ih))}),f.click(function(){o.u.P()&&(o.r.wd(),o.s.I(o.s.Hh))}),c.click(function(){o.u.P()&&(o.r.wd(),o.s.I(o.s.Lh))}),g.click(function(){o.u.P()&&(o.r.wd(),o.s.I(o.s.Gh))}),this.fk(),this.gk();var n=getCookie(Cookies.va);"ARENA"!=n&&"TEAM2"!=n&&(n="ARENA"),s.val(n),console.log("Load GM: "+n)});return j.prototype.a=function(){var t=getApp(),e=this;t.u.V(function(){t.s.F.hk()}),t.u.zi(function(){t.u.P()?(t.t.lh(t.u.mi(),PropertyType.ia),t.t.lh(t.u.ni(),PropertyType.ja),t.t.lh(t.u.oi(),PropertyType.ka),t.t.lh(t.u.pi(),PropertyType.la),t.t.lh(t.u.qi(),PropertyType.ma)):(t.t.lh(t.Ga(),PropertyType.ia),t.t.lh(0,PropertyType.ja),t.t.lh(0,PropertyType.ka),t.t.lh(0,PropertyType.la),t.t.lh(0,PropertyType.ma))}),t.u.zi(function(){h.toggle(t.u.P()),p.toggle(!t.u.P()),l.toggle(!t.u.P()),f.toggle(t.u.P()),c.toggle(t.u.P()),g.toggle(t.u.P()),t.u.P()?(o.hide(),w.html(t.u.fi()),y.attr("src",t.u.gi()),v.html(t.u.ii()),b.width(100*t.u.ki()/t.u.li()+"%"),k.html(t.u.ki()+" / "+t.u.li()),m.html(t.u.ji()),r.val(t.u.ga())):(o.toggle(env.ak&&!t.Ha()),w.html(w.data("guest")),y.attr("src",GUEST_AVATAR_URL),v.html("10"),b.width("0"),k.html(""),m.html(1),r.val(getCookie(Cookies.Aa)))}),t.t.hh(function(){e.ek.Nj(t.t.ha(PropertyType.ia),!1,!1),e.ek.Oj(t.t.ha(PropertyType.ja),!1,!1),e.ek.Pj(t.t.ha(PropertyType.ka),!1,!1),e.ek.Qj(t.t.ha(PropertyType.la),!1,!1),e.ek.Rj(t.t.ha(PropertyType.ma),!1,!1)})},j.prototype.Uh=function(){BaseViewController.Sj.stop(),BaseViewController.Sj.fadeOut(50),BaseViewController.Tj.stop(),BaseViewController.Tj.fadeOut(50),BaseViewController.Uj.stop(),BaseViewController.Uj.fadeIn(500),BaseViewController.Vj.stop(),BaseViewController.Vj.fadeOut(50),BaseViewController.Wj.stop(),BaseViewController.Wj.fadeOut(50),BaseViewController.Xj.stop(),BaseViewController.Xj.fadeOut(50),BaseViewController.Yj.stop(),BaseViewController.Yj.fadeIn(1),BaseViewController.Ph.stop(),BaseViewController.Ph.fadeIn(500),BaseViewController.Zj.stop(),BaseViewController.Zj.fadeIn(500),BaseViewController.$j.stop(),BaseViewController.$j.fadeIn(500)},j.prototype.Vh=function(){getApp().r.xd()},j.prototype.Ra=function(){this.ek.Ra()},j.prototype.Pa=function(t,e){this.ek.Pa()},j.prototype.ga=function(){return r.val()},j.prototype.D=function(){return s.val()},j.prototype.hk=function(){a.show()},j.prototype.fk=function(){var t=$("#mm-advice-cont").children(),e=0;setInterval(function(){t.eq(e).fadeOut(500,function(){++e>=t.length&&(e=0),t.eq(e).fadeIn(500).css("display","inline-block")})},3e3)},j.prototype.gk=function(){function t(){e.Ka(!0),setTimeout(function(){o.hide()},3e3)}var e=getApp();if(env.ak&&!e.Ha()){o.show();var i=i18n("index.game.main.menu.unlockSkins.share"),r=encodeURIComponent(i18n("index.game.main.menu.unlockSkins.comeAndPlay")+" https://wormate.io/ #wormate #wormateio"),s=encodeURIComponent(i18n("index.game.main.menu.unlockSkins.comeAndPlay"));n.append($('<a class="mm-skin-over-button" id="mm-skin-over-tw" target="_blank" href="http://twitter.com/intent/tweet?status='+r+'"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjQ1NiIgaGVpZ2h0PSI0NTYiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik02MCAzMzhjMzAgMTkgNjYgMzAgMTA1IDMwIDEwOCAwIDE5Ni04OCAxOTYtMTk2IDAtMyAwLTUgMC04IDQtMyAyOC0yMyAzNC0zNSAwIDAtMjAgOC0zOSAxMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAyLTEgMjctMTggMzAtMzggMCAwLTE0IDctMzMgMTQgLTMgMS03IDItMTAgMyAtMTMtMTMtMzAtMjItNTAtMjIgLTM4IDAtNjkgMzEtNjkgNjkgMCA1IDEgMTEgMiAxNiAtNSAwLTg2LTUtMTQxLTcxIDAgMC0zMyA0NSAyMCA5MSAwIDAtMTYtMS0zMC05IDAgMC01IDU0IDU0IDY4IDAgMC0xMiA0LTMwIDEgMCAwIDEwIDQ0IDYzIDQ4IDAgMC00MiAzOC0xMDEgMjlMNjAgMzM4eiIgZmlsbD0iI0ZGRiIvPjwvc3ZnPg=="><span>'+i+"</span></a>").click(t)),n.append($('<a class="mm-skin-over-button" id="mm-skin-over-vk" target="_blank" href="http://vk.com/share.php?url=https%3A%2F%2Fwormate.io"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQ1NiA0NTYiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik0xMTguMSAxMjVjMTAuOSAyNyAyNC44IDUyLjQgNDMgNzUuMiAyLjQgMyA1LjUgNS43IDguNyA3LjkgNC43IDMuMiA5LjEgMi4xIDExLTMuMyAyLTUuNiAzLjktMTcgNC0yMyAwLjMtMTUuNCAwLTI1LjYtMC45LTQxIC0wLjUtOS45LTQuMS0xOC42LTE4LjYtMjEuMiAtNC41LTAuOC00LjktNC41LTItOC4yIDYtNy43IDE0LjQtOC45IDIzLjQtOS40IDE0LjctMC44IDI5LjUtMC4xIDQ0LjIgMCA2IDAuMSAxMiAwLjUgMTcuOSAxLjggNy43IDEuNyAxMS44IDcuMSAxMy4xIDE0LjYgMC43IDMuOSAxIDcuOSAwLjkgMTEuOCAtMC40IDE2LjktMS4yIDMzLjctMS40IDUwLjYgLTAuMSA2LjYgMC40IDEzLjQgMS44IDE5LjggMiA5IDguMSAxMS4yIDE0LjMgNC43IDcuOS04LjIgMTQuOS0xNy41IDIxLjUtMjYuOSAxMS45LTE3LjEgMjAuOC0zNS45IDI4LjUtNTUuMyA0LTEwIDctMTIuMiAxNy44LTEyLjIgMjAuMiAwIDQwLjQtMC4xIDYwLjcgMCAzLjYgMCA3LjMgMC40IDEwLjcgMS40IDUuNSAxLjggNy43IDYuMiA2LjQgMTEuOSAtMyAxMy4zLTEwLjIgMjQuNi0xNy45IDM1LjUgLTEyLjQgMTcuNS0yNS4zIDM0LjUtMzggNTEuOCAtMS42IDIuMi0zIDQuNS00LjQgNi45IC00LjcgOC42LTQuNCAxMy40IDIuNSAyMC41IDExIDExLjMgMjIuOCAyMiAzMy40IDMzLjYgNy43IDguNSAxNC45IDE3LjcgMjEgMjcuNCA3LjggMTIuMiAzIDIzLjgtMTEuNSAyNS44IC05LjEgMS4zLTUzLjYgMC01NS45IDAgLTEyLTAuMS0yMi41LTQuMi0zMC45LTEyLjMgLTkuNC05LjEtMTcuOS0xOS0yNy0yOC40IC0yLjctMi44LTUuNi01LjYtOC43LTggLTcuNC01LjYtMTQuNi00LjQtMTguMSA0LjMgLTIuOSA3LjQtNS41IDI3LTUuNiAyOC43IC0wLjYgOC43LTYuMiAxNC4zLTE2IDE0LjggLTI4LjIgMS41LTU1LjYtMS42LTgxLjEtMTUuMyAtMjEuNi0xMS42LTM4LjktMjcuOS01My44LTQ3IC0yMy43LTMwLjMtNDIuNS02My42LTU5LjYtOTcuOSAtMC45LTEuOC0xOC4yLTM4LjctMTguNy00MC40IC0xLjUtNS44LTAuMS0xMS40IDQuOC0xMy4zIDMuMS0xLjIgNjAuMiAwIDYxLjIgMEMxMDggMTI1LjQgMTE0LjIgMTI5LjIgMTE4LjEgMTM4Ljd6IiBmaWxsPSIjRkZGIi8+PC9zdmc+"><span>'+i+"</span></a>").click(t)),n.append($('<a class="mm-skin-over-button" id="mm-skin-over-fb" target="_blank" href="https://www.facebook.com/dialog/share?app_id=861926850619051&display=popup&href=https%3A%2F%2Fwormate.io&redirect_uri=https%3A%2F%2Fwormate.io&hashtag=%23wormateio&quote='+s+'"><img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDQ1NiA0NTYiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwYXRoIGQ9Ik0yNDQuMyA0NTZWMjc5LjdoLTU5LjN2LTcxLjloNTkuM3YtNjAuNGMwLTQzLjkgMzUuNi03OS41IDc5LjUtNzkuNWg2MnY2NC42aC00NC40Yy0xMy45IDAtMjUuMyAxMS4zLTI1LjMgMjUuM3Y1MGg2OC41bC05LjUgNzEuOWgtNTkuMVY0NTZ6IiBmaWxsPSIjZmZmIi8+PC9zdmc+"><span>'+i+"</span></a>").click(t))}},j}(),PrerollViewController=function(){var t=extend(BaseViewController,function(){BaseViewController.call(this,ViewControllerType._j)});return t.prototype.a=function(){},t.prototype.Uh=function(){BaseViewController.Sj.stop(),BaseViewController.Sj.fadeOut(50),BaseViewController.Tj.stop(),BaseViewController.Tj.fadeOut(50),BaseViewController.Uj.stop(),BaseViewController.Uj.fadeOut(50),BaseViewController.Vj.stop(),BaseViewController.Vj.fadeOut(50),BaseViewController.Wj.stop(),BaseViewController.Wj.fadeOut(50),BaseViewController.Xj.stop(),BaseViewController.Xj.fadeOut(50),BaseViewController.Yj.stop(),BaseViewController.Yj.fadeOut(1),BaseViewController.Ph.stop(),BaseViewController.Ph.fadeOut(50),BaseViewController.Zj.stop(),BaseViewController.Zj.fadeOut(50),BaseViewController.$j.stop(),BaseViewController.$j.fadeOut(50)},t}(),ToasterContainerViewController=function(){var t=$("#toaster-stack"),e=extend(BaseViewController,function(){BaseViewController.call(this,ViewControllerType._j),this.ik=[],this.jk=null});return e.prototype.a=function(){},e.prototype.Uh=function(){BaseViewController.Sj.stop(),BaseViewController.Sj.fadeOut(50),BaseViewController.Tj.stop(),BaseViewController.Tj.fadeOut(50),BaseViewController.Uj.stop(),BaseViewController.Uj.fadeOut(50),BaseViewController.Vj.stop(),BaseViewController.Vj.fadeOut(50),BaseViewController.Wj.stop(),BaseViewController.Wj.fadeIn(500),BaseViewController.Xj.stop(),BaseViewController.Xj.fadeOut(50),BaseViewController.Yj.stop(),BaseViewController.Yj.fadeIn(1),BaseViewController.Ph.stop(),BaseViewController.Ph.fadeIn(500),BaseViewController.Zj.stop(),BaseViewController.Zj.fadeOut(50),BaseViewController.$j.stop(),BaseViewController.$j.fadeIn(500)},e.prototype.Vh=function(){this.kk()},e.prototype.Yh=function(){return null!=this.jk||this.ik.length>0},e.prototype._=function(t){this.ik.unshift(t),setTimeout(function(){getApp().s.Wh()},0)},e.prototype.Di=function(t){this.ik.push(t),setTimeout(function(){getApp().s.Wh()},0)},e.prototype.kk=function(){var e=this;if(null==this.jk){if(0==this.ik.length)return void getApp().s.Sh();var i=this.ik.shift();this.jk=i;var o=i.lk();o.hide(),o.fadeIn(300),t.append(o),i.mk=function(){o.fadeOut(300),setTimeout(function(){o.remove()},300),e.jk==i&&(e.jk=null),e.kk()},i.Vh()}},e}(),ViewControllerType={_j:0,Th:1},BasePopupViewController=function(){var t=$("#popup-menu-label"),e=$("#popup-menu-coins-box"),i=$("#popup-menu-coins-val");$("#popup-menu-back").click(function(){var t=getApp();t.r.wd(),t.s.Sh()}),e.click(function(){var t=getApp();t.u.P()&&(t.r.wd(),t.s.I(t.s.Gh))});var o=extend(BaseViewController,function(t,e){BaseViewController.call(this,ViewControllerType.Th),this.Wc=t,this.nk=e});return o.prototype.a=function(){if(o.parent.prototype.a.call(this),!o.ok){o.ok=!0;var t=getApp();t.u.zi(function(){t.u.P()?i.html(t.u.ii()):i.html("0")})}},o.pk=$("#coins-view"),o.qk=$("#leaders-view"),o.rk=$("#profile-view"),o.sk=$("#settings-view"),o.tk=$("#login-view"),o.uk=$("#skins-view"),o.vk=$("#store-view"),o.wk=$("#wear-view"),o.xk=$("#withdraw-consent-view"),o.yk=$("#please-wait-view"),o.prototype.Uh=function(){BaseViewController.Sj.stop(),BaseViewController.Sj.fadeOut(200),BaseViewController.Tj.stop(),BaseViewController.Tj.fadeOut(200),BaseViewController.Uj.stop(),BaseViewController.Uj.fadeOut(200),BaseViewController.Vj.stop(),BaseViewController.Vj.fadeIn(200),BaseViewController.Wj.stop(),BaseViewController.Wj.fadeOut(200),BaseViewController.Xj.stop(),BaseViewController.Xj.fadeOut(200),BaseViewController.Zj.stop(),BaseViewController.Zj.fadeIn(200),BaseViewController.$j.stop(),BaseViewController.$j.fadeIn(200),t.html(this.Wc),e.toggle(this.nk),this.zk(),this.Ak()},o.prototype.Ak=function(){},o.prototype.Bk=function(){BasePopupViewController.yk.stop(),BasePopupViewController.yk.fadeIn(300)},o.prototype.zk=function(){BasePopupViewController.yk.stop(),BasePopupViewController.yk.fadeOut(300)},o}(),CoinsViewController=function(){var t=$("#store-buy-coins_125000"),e=$("#store-buy-coins_50000"),i=$("#store-buy-coins_16000"),o=$("#store-buy-coins_7000"),n=$("#store-buy-coins_3250"),r=$("#store-buy-coins_1250"),s=extend(BasePopupViewController,function(){BasePopupViewController.call(this,i18n("index.game.popup.menu.coins.tab"),!1);var s=getApp(),a=this;t.click(function(){s.r.wd(),a.Ck("coins_125000")}),e.click(function(){s.r.wd(),a.Ck("coins_50000")}),i.click(function(){s.r.wd(),a.Ck("coins_16000")}),o.click(function(){s.r.wd(),a.Ck("coins_7000")}),n.click(function(){s.r.wd(),a.Ck("coins_3250")}),r.click(function(){s.r.wd(),a.Ck("coins_1250")})});return s.prototype.a=function(){s.parent.prototype.a.call(this)},s.prototype.Ak=function(){BasePopupViewController.pk.stop(),BasePopupViewController.pk.fadeIn(200),BasePopupViewController.qk.stop(),BasePopupViewController.qk.fadeOut(50),BasePopupViewController.rk.stop(),BasePopupViewController.rk.fadeOut(50),BasePopupViewController.tk.stop(),BasePopupViewController.tk.fadeOut(50),BasePopupViewController.sk.stop(),BasePopupViewController.sk.fadeOut(50),BasePopupViewController.uk.stop(),BasePopupViewController.uk.fadeOut(50),BasePopupViewController.vk.stop(),BasePopupViewController.vk.fadeOut(50),BasePopupViewController.wk.stop(),BasePopupViewController.wk.fadeOut(50),BasePopupViewController.xk.stop(),BasePopupViewController.xk.fadeOut(50)},s.prototype.Vh=function(){getApp().r.xd()},s.prototype.Ck=function(t){},s}(),LeadersViewController=function(){var t=$("#highscore-table"),e=$("#leaders-button-level"),i=$("#leaders-button-highscore"),o=$("#leaders-button-kills"),n=extend(BasePopupViewController,function(){BasePopupViewController.call(this,i18n("index.game.popup.menu.leaders.tab"),!0);var t=getApp(),n=this;this.Dk={},this.Ek={Fk:{Gk:e,Hk:"byLevel"},Ik:{Gk:i,Hk:"byHighScore"},Jk:{Gk:o,Hk:"byKillsAndHeadShots"}},e.click(function(){t.r.wd(),n.Kk(n.Ek.Fk)}),i.click(function(){t.r.wd(),n.Kk(n.Ek.Ik)}),o.click(function(){t.r.wd(),n.Kk(n.Ek.Jk)})});return n.prototype.a=function(){n.parent.prototype.a.call(this)},n.prototype.Ak=function(){BasePopupViewController.pk.stop(),BasePopupViewController.pk.fadeOut(50),BasePopupViewController.qk.stop(),BasePopupViewController.qk.fadeIn(200),BasePopupViewController.rk.stop(),BasePopupViewController.rk.fadeOut(50),BasePopupViewController.tk.stop(),BasePopupViewController.tk.fadeOut(50),BasePopupViewController.sk.stop(),BasePopupViewController.sk.fadeOut(50),BasePopupViewController.uk.stop(),BasePopupViewController.uk.fadeOut(50),BasePopupViewController.vk.stop(),BasePopupViewController.vk.fadeOut(50),BasePopupViewController.wk.stop(),BasePopupViewController.wk.fadeOut(50),BasePopupViewController.xk.stop(),BasePopupViewController.xk.fadeOut(50)},n.prototype.Vh=function(){getApp().r.xd();var t=this;this.Bk(),$.get(GATEWAY_HOST+"/pub/leaders",function(e){t.Dk=e,t.Kk(null!=t.Lk?t.Lk:t.Ek.Fk),t.zk()}).done(function(){t.zk()})},n.prototype.Kk=function(e){this.Lk=e;for(var i in this.Ek)if(this.Ek.hasOwnProperty(i)){var o=this.Ek[i];o.Gk.removeClass("pressed")}this.Lk.Gk.addClass("pressed");for(var n=this.Dk[this.Lk.Hk],r="",s=0;s<n.length;s++){var a=n[s];r+='<div class="table-row"><span>'+(s+1)+'</span><span><img src="'+a.avatarUrl+'"/></span><span>'+a.username+"</span><span>"+a.level+"</span><span>"+a.highScore+"</span><span>"+a.headShots+" / "+a.kills+"</span></div>"}t.empty(),t.append(r)},n}(),LoginViewController=function(){var t=$("#popup-login-gg"),e=$("#popup-login-fb"),i=extend(BasePopupViewController,function(){BasePopupViewController.call(this,i18n("index.game.popup.menu.login.tab"),!1);var i=getApp(),o=this;t.click(function(){i.r.wd(),o.Bk(),i.u.Ai(function(){o.zk()}),setTimeout(function(){o.zk()},1e4),i.u.Ji()}),e.click(function(){i.r.wd(),o.Bk(),i.u.Ai(function(){o.zk()}),setTimeout(function(){o.zk()},1e4),i.u.Fi()})});return i.prototype.a=function(){i.parent.prototype.a.call(this)},i.prototype.Ak=function(){BasePopupViewController.pk.stop(),BasePopupViewController.pk.fadeOut(50),BasePopupViewController.qk.stop(),BasePopupViewController.qk.fadeOut(50),BasePopupViewController.rk.stop(),BasePopupViewController.rk.fadeOut(50),BasePopupViewController.tk.stop(),BasePopupViewController.tk.fadeIn(200),BasePopupViewController.sk.stop(),BasePopupViewController.sk.fadeOut(50),BasePopupViewController.uk.stop(),BasePopupViewController.uk.fadeOut(50),BasePopupViewController.vk.stop(),BasePopupViewController.vk.fadeOut(50),BasePopupViewController.wk.stop(),BasePopupViewController.wk.fadeOut(50),BasePopupViewController.xk.stop(),BasePopupViewController.xk.fadeOut(50)},i.prototype.Vh=function(){getApp().r.xd()},i}(),ProfileViewController=function(){
var t=$("#profile-avatar"),e=$("#profile-username"),i=$("#profile-experience-bar"),o=$("#profile-experience-val"),n=$("#profile-level"),r=$("#profile-stat-highScore"),s=$("#profile-stat-bestSurvivalTime"),a=$("#profile-stat-kills"),h=$("#profile-stat-headshots"),l=$("#profile-stat-gamesPlayed"),p=$("#profile-stat-totalTimeSpent"),u=$("#profile-stat-registrationDate"),c=extend(BasePopupViewController,function(){BasePopupViewController.call(this,i18n("index.game.popup.menu.profile.tab"),!0)});return c.prototype.a=function(){c.parent.prototype.a.call(this)},c.prototype.Ak=function(){BasePopupViewController.pk.stop(),BasePopupViewController.pk.fadeOut(50),BasePopupViewController.qk.stop(),BasePopupViewController.qk.fadeOut(50),BasePopupViewController.rk.stop(),BasePopupViewController.rk.fadeIn(200),BasePopupViewController.tk.stop(),BasePopupViewController.tk.fadeOut(50),BasePopupViewController.sk.stop(),BasePopupViewController.sk.fadeOut(50),BasePopupViewController.uk.stop(),BasePopupViewController.uk.fadeOut(50),BasePopupViewController.vk.stop(),BasePopupViewController.vk.fadeOut(50),BasePopupViewController.wk.stop(),BasePopupViewController.wk.fadeOut(50),BasePopupViewController.xk.stop(),BasePopupViewController.xk.fadeOut(50)},c.prototype.Vh=function(){var c=getApp();c.r.xd();var f=c.u.yi(),d=moment([f.year,f.month-1,f.day]).format("LL");e.html(c.u.fi()),t.attr("src",c.u.gi()),i.width(100*c.u.ki()/c.u.li()+"%"),o.html(c.u.ki()+" / "+c.u.li()),n.html(c.u.ji()),r.html(c.u.ri()),s.html(timeSecsToIntervalText(c.u.si())),a.html(c.u.ti()),h.html(c.u.vi()),l.html(c.u.wi()),p.html(timeSecsToIntervalText(c.u.xi())),u.html(d)},c}(),SettingsViewController=function(){var t=$("#settings-music-enabled-switch"),e=$("#settings-sfx-enabled-switch"),i=$("#settings-show-names-switch"),o=$("#popup-logout"),n=$("#popup-logout-container"),r=$("#popup-withdraw-consent"),s=$("#popup-give-consent"),a=extend(BasePopupViewController,function(){BasePopupViewController.call(this,i18n("index.game.popup.menu.settings.tab"),!1);var n=this,s=getApp();t.click(function(){var e=!!t.prop("checked");setCookie(Cookies.ve,e,30),s.r.nd(e),s.r.wd()}),e.click(function(){var t=!!e.prop("checked");setCookie(Cookies.we,t,30),s.r.ld(t),s.r.wd()}),i.click(function(){s.r.wd()}),o.click(function(){s.r.wd(),n.Bk(),setTimeout(function(){n.zk()},2e3),s.u.Gi()}),r.click(function(){s.Y()?(s.r.wd(),s.s.I(s.s.Fh)):s.r.Bd()})});return a.prototype.a=function(){a.parent.prototype.a.call(this);var o=getApp(),r=void 0;switch(getCookie(Cookies.ve)){case"false":r=!1;break;default:r=!0}t.prop("checked",r),o.r.nd(r);var h=void 0;switch(getCookie(Cookies.we)){case"false":h=!1;break;default:h=!0}e.prop("checked",h),o.r.ld(h);var l=void 0;switch(getCookie(Cookies.ya)){case"false":l=!1;break;default:l=!0}console.log("Load sPN: "+l),i.prop("checked",l),s.hide(),o.u.V(function(){n.toggle(o.u.P())})},a.prototype.Ak=function(){BasePopupViewController.pk.stop(),BasePopupViewController.pk.fadeOut(50),BasePopupViewController.qk.stop(),BasePopupViewController.qk.fadeOut(50),BasePopupViewController.rk.stop(),BasePopupViewController.rk.fadeOut(50),BasePopupViewController.tk.stop(),BasePopupViewController.tk.fadeOut(50),BasePopupViewController.sk.stop(),BasePopupViewController.sk.fadeIn(200),BasePopupViewController.uk.stop(),BasePopupViewController.uk.fadeOut(50),BasePopupViewController.vk.stop(),BasePopupViewController.vk.fadeOut(50),BasePopupViewController.wk.stop(),BasePopupViewController.wk.fadeOut(50),BasePopupViewController.xk.stop(),BasePopupViewController.xk.fadeOut(50)},a.prototype.Vh=function(){var t=getApp();t.r.xd(),t.Y()?r.show():r.hide()},a.prototype.wa=function(){return i.prop("checked")},a}(),SkinsViewController=function(){var t=$("#store-view-canv"),e=$("#store-locked-bar"),i=$("#store-buy-button"),o=$("#store-item-price"),n=$("#store-groups"),r=$("#store-view-prev"),s=$("#store-view-next"),a=extend(BasePopupViewController,function(){BasePopupViewController.call(this,i18n("index.game.popup.menu.skins.tab"),!0);var e=this,o=getApp();this.Mk=null,this.Nk=[],this.Ok={},this.Pk=new WormView(t),i.click(function(){o.r.wd(),e.Qk()}),r.click(function(){o.r.wd(),e.Mk.Rk()}),s.click(function(){o.r.wd(),e.Mk.Sk()})});a.prototype.a=function(){a.parent.prototype.a.call(this);var t=this,e=getApp();e.p.ca(function(){var i=e.p.uc();if(null!=i){t.Nk=[];for(var o=0;o<i.skinGroupArrayDict.length;o++)t.Nk.push(new h(t,i.skinGroupArrayDict[o]));t.Ok={};for(var n=0;n<i.skinArrayDict.length;n++){var r=i.skinArrayDict[n];t.Ok[r.id]=r}}}),this.Tk(!1),e.t.hh(function(){t.Tk(!1)})},a.prototype.Ak=function(){BasePopupViewController.pk.stop(),BasePopupViewController.pk.fadeOut(50),BasePopupViewController.qk.stop(),BasePopupViewController.qk.fadeOut(50),BasePopupViewController.rk.stop(),BasePopupViewController.rk.fadeOut(50),BasePopupViewController.tk.stop(),BasePopupViewController.tk.fadeOut(50),BasePopupViewController.sk.stop(),BasePopupViewController.sk.fadeOut(50),BasePopupViewController.uk.stop(),BasePopupViewController.uk.fadeIn(200),BasePopupViewController.vk.stop(),BasePopupViewController.vk.fadeOut(50),BasePopupViewController.wk.stop(),BasePopupViewController.wk.fadeOut(50),BasePopupViewController.xk.stop(),BasePopupViewController.xk.fadeOut(50)},a.prototype.Vh=function(){getApp().r.xd(),this.Uk()},a.prototype.Ra=function(){this.Pk.Ra()},a.prototype.Pa=function(t,e){this.Pk.Pa()},a.prototype.Uk=function(){var t=this,e=this,i=getApp();n.empty();for(var o=0;o<this.Nk.length;o++)!function(o){var r=t.Nk[o],s=document.createElement("li");n.append(s);var a=$(s);a.html(r.Vk()),a.click(function(){i.r.wd(),e.Wk(r)}),r.Xk=a}(o);if(this.Nk.length>0){for(var r=i.t.ha(PropertyType.ia),o=0;o<this.Nk.length;o++)for(var s=this.Nk[o],a=s.Yk.list,h=0;h<a.length;h++)if(a[h]==r)return s.Zk=h,void this.Wk(s);this.Wk(this.Nk[0])}},a.prototype.Wk=function(t){this.Mk!=t&&(this.Mk=t,n.children().removeClass("pressed"),this.Mk.Xk&&this.Mk.Xk.addClass("pressed"),this.Tk(!0))},a.prototype.$k=function(){return null==this.Mk?Optional.Jg():this.Mk._k()},a.prototype.Qk=function(){var t=this;this.$k().Ng(function(e){t.al(e)})},a.prototype.al=function(t){var e=this,i=getApp(),o=this.Ok[t].price;if(!(i.u.ii()<o)){this.Bk();var n=i.t.ha(PropertyType.ia),r=i.t.ha(PropertyType.ja),s=i.t.ha(PropertyType.ka),a=i.t.ha(PropertyType.la),h=i.t.ha(PropertyType.ma);i.u.Ei(t,PropertyType.ia,function(){i.t.lh(n,PropertyType.ia),i.t.lh(r,PropertyType.ja),i.t.lh(s,PropertyType.ka),i.t.lh(a,PropertyType.la),i.t.lh(h,PropertyType.ma),i.u.mh(t,PropertyType.ia)&&i.t.lh(t,PropertyType.ia),e.zk()})}},a.prototype.Tk=function(t){var n=getApp();this.Pk.Oj(n.t.ha(PropertyType.ja),!1,!1),this.Pk.Pj(n.t.ha(PropertyType.ka),!1,!1),this.Pk.Qj(n.t.ha(PropertyType.la),!1,!1),this.Pk.Rj(n.t.ha(PropertyType.ma),!1,!1);var r=this.$k();if(r.Mg()){var s=r.Lg(),a=this.Ok[s],h=!1;n.t.Ja(s,PropertyType.ia)?(e.hide(),i.hide()):null==a||1==a.nonbuyable?(h=!0,e.show(),i.hide(),null!=a&&a.nonbuyable&&null!=a.nonbuyableReason?e.html(i18nCustomBundle(a.nonbuyableReason)):e.html(i18n("index.game.popup.menu.store.locked"))):(e.hide(),i.show(),o.html(null!=a?a.price:0)),this.Pk.Nj(s,!0,h),t&&n.t.lh(s,PropertyType.ia)}};var h=function(){function t(t,e){this.bl=t,this.Zk=0,this.Yk=e}return t.prototype.Rk=function(){--this.Zk<0&&(this.Zk=this.Yk.list.length-1),this.bl.Tk(!0)},t.prototype.Sk=function(){++this.Zk>=this.Yk.list.length&&(this.Zk=0),this.bl.Tk(!0)},t.prototype.Vk=function(){return i18nCustomBundle(this.Yk.name)},t.prototype._k=function(){return this.Zk>=this.Yk.list.length?Optional.Jg():Optional.Kg(this.Yk.list[this.Zk])},t}();return a}(),StoreViewController=function(){var t=$("#store-go-coins-button"),e=$("#store-go-skins-button"),i=$("#store-go-wear-button"),o=extend(BasePopupViewController,function(){BasePopupViewController.call(this,i18n("index.game.popup.menu.store.tab"),!0);var o=getApp();t.click(function(){o.r.wd(),o.s.I(o.s.Gh)}),e.click(function(){o.r.wd(),o.s.I(o.s.Kh)}),i.click(function(){o.r.wd(),o.s.I(o.s.Mh)})});return o.prototype.a=function(){o.parent.prototype.a.call(this)},o.prototype.Ak=function(){BasePopupViewController.pk.stop(),BasePopupViewController.pk.fadeOut(50),BasePopupViewController.qk.stop(),BasePopupViewController.qk.fadeOut(50),BasePopupViewController.rk.stop(),BasePopupViewController.rk.fadeOut(50),BasePopupViewController.tk.stop(),BasePopupViewController.tk.fadeOut(50),BasePopupViewController.sk.stop(),BasePopupViewController.sk.fadeOut(50),BasePopupViewController.uk.stop(),BasePopupViewController.uk.fadeOut(50),BasePopupViewController.vk.stop(),BasePopupViewController.vk.fadeIn(200),BasePopupViewController.wk.stop(),BasePopupViewController.wk.fadeOut(50),BasePopupViewController.xk.stop(),BasePopupViewController.xk.fadeOut(50)},o.prototype.Vh=function(){getApp().r.xd()},o}(),WearViewController=function(){var t=$("#wear-view-canv"),e=$("#wear-locked-bar"),i=$("#wear-buy-button"),o=$("#wear-item-price"),n=$("#wear-eyes-button"),r=$("#wear-mouths-button"),s=$("#wear-glasses-button"),a=$("#wear-hats-button"),h=$("#wear-tint-chooser"),l=$("#wear-view-prev"),p=$("#wear-view-next"),u=extend(BasePopupViewController,function(){var e=this;BasePopupViewController.call(this,i18n("index.game.popup.menu.wear.tab"),!0);var o=getApp(),h=this;this.cl=[],this.ja=new c(this,PropertyType.ja,n),this.ka=new c(this,PropertyType.ka,r),this.la=new c(this,PropertyType.la,s),this.ma=new c(this,PropertyType.ma,a),this.dl=null,this.el=null,this.fl=null,this.gl=null,this.hl=null,this.il=null,this.jl=new WormView(t),i.click(function(){o.r.wd(),h.kl()}),l.click(function(){o.r.wd(),h.dl.ll()}),p.click(function(){o.r.wd(),h.dl.ml()}),n.click(function(){o.r.wd(),h.nl(e.ja)}),r.click(function(){o.r.wd(),h.nl(e.ka)}),s.click(function(){o.r.wd(),h.nl(e.la)}),a.click(function(){o.r.wd(),h.nl(e.ma)}),this.cl.push(this.ja),this.cl.push(this.ka),this.cl.push(this.la),this.cl.push(this.ma)});u.prototype.a=function(){u.parent.prototype.a.call(this);var t=getApp(),e=this;t.p.ca(function(){var i=t.p.uc();null!=i&&(e.el=i.eyesDict,e.fl=i.mouthDict,e.gl=i.glassesDict,e.hl=i.hatDict,e.il=i.colorDict,e.ja.ol(i.eyesVariantArray),e.ja.pl(e.el),e.ka.ol(i.mouthVariantArray),e.ka.pl(e.fl),e.la.ol(i.glassesVariantArray),e.la.pl(e.gl),e.ma.ol(i.hatVariantArray),e.ma.pl(e.hl))}),this.Tk(!1),t.t.hh(function(){e.Tk(!1)})},u.prototype.Ak=function(){BasePopupViewController.pk.stop(),BasePopupViewController.pk.fadeOut(50),BasePopupViewController.qk.stop(),BasePopupViewController.qk.fadeOut(50),BasePopupViewController.rk.stop(),BasePopupViewController.rk.fadeOut(50),BasePopupViewController.tk.stop(),BasePopupViewController.tk.fadeOut(50),BasePopupViewController.sk.stop(),BasePopupViewController.sk.fadeOut(50),BasePopupViewController.uk.stop(),BasePopupViewController.uk.fadeOut(50),BasePopupViewController.vk.stop(),BasePopupViewController.vk.fadeOut(50),BasePopupViewController.wk.stop(),BasePopupViewController.wk.fadeIn(200),BasePopupViewController.xk.stop(),BasePopupViewController.xk.fadeOut(50)},u.prototype.Vh=function(){getApp().r.xd(),this.nl(null!=this.dl?this.dl:this.ja)},u.prototype.Ra=function(){this.jl.Ra()},u.prototype.Pa=function(t,e){this.jl.Pa()},u.prototype.nl=function(t){this.dl=t;for(var e=0;e<this.cl.length;e++)this.cl[e].Gk.removeClass("pressed");this.dl.Gk.addClass("pressed"),this.dl.Uh()},u.prototype.ql=function(){return null==this.dl?Optional.Jg():Optional.Kg({Fb:this.dl._k(),lc:this.dl.lc})},u.prototype.kl=function(){var t=this;this.ql().Ng(function(e){t.Ei(e.Fb,e.lc)})},u.prototype.Ei=function(t,e){var i=this,o=getApp(),n=void 0;switch(e){case PropertyType.ja:n=this.el[t].price;break;case PropertyType.ka:n=this.fl[t].price;break;case PropertyType.la:n=this.gl[t].price;break;case PropertyType.ma:n=this.hl[t].price;break;default:return}if(!(o.u.ii()<n)){this.Bk();var r=o.t.ha(PropertyType.ia),s=o.t.ha(PropertyType.ja),a=o.t.ha(PropertyType.ka),h=o.t.ha(PropertyType.la),l=o.t.ha(PropertyType.ma);o.u.Ei(t,e,function(){o.t.lh(r,PropertyType.ia),o.t.lh(s,PropertyType.ja),o.t.lh(a,PropertyType.ka),o.t.lh(h,PropertyType.la),o.t.lh(l,PropertyType.ma),o.u.mh(t,e)&&o.t.lh(t,e),i.zk()})}},u.prototype.rl=function(t,e){switch(e){case PropertyType.ja:return this.el[t];case PropertyType.ka:return this.fl[t];case PropertyType.la:return this.gl[t];case PropertyType.ma:return this.hl[t]}return null},u.prototype.Tk=function(t){var n=getApp();this.jl.Nj(n.t.ha(PropertyType.ia),!1,!1),this.jl.Oj(n.t.ha(PropertyType.ja),!1,!1),this.jl.Pj(n.t.ha(PropertyType.ka),!1,!1),this.jl.Qj(n.t.ha(PropertyType.la),!1,!1),this.jl.Rj(n.t.ha(PropertyType.ma),!1,!1);var r=this.ql();if(r.Mg()){var s=r.Lg(),a=this.rl(s.Fb,s.lc),h=!1;switch(n.t.Ja(s.Fb,s.lc)?(e.hide(),i.hide()):null==a||1==a.nonbuyable?(h=!0,e.show(),i.hide(),null!=a&&a.nonbuyable&&null!=a.nonbuyableReason?e.html(i18nCustomBundle(a.nonbuyableReason)):e.html(i18n("index.game.popup.menu.store.locked"))):(e.hide(),i.show(),o.html(null!=a?a.price:0)),s.lc){case PropertyType.ja:this.jl.Oj(s.Fb,!0,h);break;case PropertyType.ka:this.jl.Pj(s.Fb,!0,h);break;case PropertyType.la:this.jl.Qj(s.Fb,!0,h);break;case PropertyType.ma:this.jl.Rj(s.Fb,!0,h)}t&&n.t.lh(s.Fb,s.lc)}};var c=function(){function t(t,e,i){this.bl=t,this.lc=e,this.Gk=i,this.sl={},this.tl=[[]],this.ul=-10,this.vl=-10}return t.prototype.ol=function(t){this.tl=t},t.prototype.pl=function(t){this.sl=t},t.prototype.Uh=function(){for(var t=getApp(),e=t.t.ha(this.lc),i=0;i<this.tl.length;i++)for(var o=0;o<this.tl[i].length;o++)if(this.tl[i][o]==e)return this.wl(i),void this.xl(o);this.wl(0),this.xl(0)},t.prototype.ll=function(){var t=this.ul-1;t<0&&(t=this.tl.length-1),this.wl(t),this.xl(this.vl%this.tl[t].length)},t.prototype.ml=function(){var t=this.ul+1;t>=this.tl.length&&(t=0),this.wl(t),this.xl(this.vl%this.tl[t].length)},t.prototype.wl=function(t){var e=this;if(!(t<0||t>=this.tl.length)){this.ul=t,h.empty();var i=this.tl[this.ul];if(i.length>1)for(var o=0;o<i.length;o++)!function(t){var o=i[t],n=e.sl[o],r="#"+e.bl.il[n.prime],s=$('<div style="border-color:'+r+'"></div>');s.click(function(){getApp().r.wd(),e.xl(t)}),h.append(s)}(o)}},t.prototype.xl=function(t){if(!(t<0||t>=this.tl[this.ul].length)){this.vl=t,h.children().css("background-color","transparent");var e=h.children(":nth-child("+(1+t)+")");e.css("background-color",e.css("border-color")),this.bl.Tk(!0)}},t.prototype._k=function(){return this.tl[this.ul][this.vl]},t}();return u}(),WithdrawConsentViewController=function(){var t=$("#withdraw-consent-yes"),e=$("#withdraw-consent-no"),i=extend(BasePopupViewController,function(){BasePopupViewController.call(this,i18n("index.game.popup.menu.consent.tab"),!1);var i=getApp();t.click(function(){i.r.wd(),i.Y()?(i.s.I(i.s.F),i.$(!1,!0),i.s.aa._(new ConsentAcceptanceToasterViewController)):i.s.Sh()}),e.click(function(){i.r.wd(),i.s.Sh()})});return i.prototype.a=function(){i.parent.prototype.a.call(this)},i.prototype.Ak=function(){BasePopupViewController.pk.stop(),BasePopupViewController.pk.fadeOut(50),BasePopupViewController.qk.stop(),BasePopupViewController.qk.fadeOut(50),BasePopupViewController.rk.stop(),BasePopupViewController.rk.fadeOut(50),BasePopupViewController.tk.stop(),BasePopupViewController.tk.fadeOut(50),BasePopupViewController.sk.stop(),BasePopupViewController.sk.fadeOut(50),BasePopupViewController.uk.stop(),BasePopupViewController.uk.fadeOut(50),BasePopupViewController.vk.stop(),BasePopupViewController.vk.fadeOut(50),BasePopupViewController.wk.stop(),BasePopupViewController.wk.fadeOut(50),BasePopupViewController.xk.stop(),BasePopupViewController.xk.fadeIn(200)},i.prototype.Vh=function(){getApp().r.xd()},i}(),BaseToasterViewController=function(){function t(){this.mk=function(){}}return t.prototype.lk=function(){},t.prototype.Vh=function(){},t}(),CoinsToasterViewController=function(){var t=extend(BaseToasterViewController,function(t){BaseToasterViewController.call(this);var e=Date.now()+"_"+Math.floor(1e3+8999*Math.random());this.yl=$('<div id="'+e+'" class="toaster toaster-coins">    <img class="toaster-coins-img" alt="Wormate Coin" src="/images/coin_320.png" />    <div class="toaster-coins-val">+'+t+'</div>    <div class="toaster-coins-close">'+i18n("index.game.toaster.continue")+"</div></div>");var i=this;this.yl.find(".toaster-coins-close").click(function(){getApp().r.wd(),i.mk()})});return t.prototype.lk=function(){return this.yl},t.prototype.Vh=function(){getApp().r.zd()},t}(),LevelUpToasterViewController=function(){var t=extend(BaseToasterViewController,function(t){BaseToasterViewController.call(this);var e=Date.now()+"_"+Math.floor(1e3+8999*Math.random());this.yl=$('<div id="'+e+'" class="toaster toaster-levelup">    <img class="toaster-levelup-img" alt="Wormate Level Up Star" src="/images/level-star.svg" />    <div class="toaster-levelup-val">'+t+'</div>    <div class="toaster-levelup-text">'+i18n("index.game.toaster.levelup")+'</div>    <div class="toaster-levelup-close">'+i18n("index.game.toaster.continue")+"</div></div>");var i=this;this.yl.find(".toaster-levelup-close").click(function(){getApp().r.wd(),i.mk()})});return t.prototype.lk=function(){return this.yl},t.prototype.Vh=function(){getApp().r.yd()},t}(),ConsentAcceptanceToasterViewController=function(){var t=extend(BaseToasterViewController,function(){BaseToasterViewController.call(this);var t=this,e=getApp(),i=Date.now()+"_"+Math.floor(1e3+8999*Math.random());this.yl=$('<div id="'+i+'" class="toaster toaster-consent-accepted">    <img class="toaster-consent-accepted-logo" src="'+LINE_LOGO_URL+'" alt="Wormate.io logo"/>    <div class="toaster-consent-accepted-container">        <span class="toaster-consent-accepted-text">'+i18n("index.game.toaster.consent.text").replaceAll(" ","&nbsp;").replaceAll("\n","<br/>")+'</span>        <a class="toaster-consent-accepted-link" href="/privacy-policy">'+i18n("index.game.toaster.consent.link")+'</a>    </div>    <div class="toaster-consent-close">'+i18n("index.game.toaster.consent.iAccept")+"</div></div>"),this.zl=this.yl.find(".toaster-consent-close"),this.zl.hide(),this.zl.click(function(){e.r.wd(),e.Y()&&e.$(!0,!0),t.mk()})});return t.prototype.lk=function(){return this.yl},t.prototype.Vh=function(){var t=this,e=getApp();e.Y()&&!e.Z()?(e.r.Bd(),setTimeout(function(){t.zl.fadeIn(300)},2e3)):setTimeout(function(){t.mk()},0)},t}(),ENV_MAP={};ENV_MAP.main={Ma:ADINPLAY_BANNER("aqnvgcpz05orkobh",atob("V1JNX3dvcm1hdGUtaW9fMzAweDI1MA==")),K:ADINPLAY_BANNER("ltmolilci1iurq1i",atob("d29ybWF0ZS1pb185NzB4MjUw")),ra:ADINPLAY_PREROLL_PLAYER(),e:4,oa:!1,ak:!0},ENV_MAP.__dev__={Ma:ADINPLAY_BANNER("aqnvgcpz05orkobh",atob("V1JNX3dvcm1hdGUtaW9fMzAweDI1MA==")),K:ADINPLAY_BANNER("ltmolilci1iurq1i",atob("d29ybWF0ZS1pb185NzB4MjUw")),ra:ADINPLAY_PREROLL_PLAYER(),e:1,oa:!1,ak:!0},ENV_MAP.miniclip={Ma:ADINPLAY_BANNER("aqnvgcpz05orkobh",atob("V1JNX3dvcm1hdGUtaW9fMzAweDI1MA==")),K:ADINPLAY_BANNER("ltmolilci1iurq1i",atob("d29ybWF0ZS1pb185NzB4MjUw")),ra:ADINPLAY_PREROLL_PLAYER(),e:4,oa:!1,ak:!1};var env=ENV_MAP[window.ENV];env||(env=ENV_MAP.main),$(function(){FastClick.attach(document.body)}),addEventListener("contextmenu",function(t){return t.preventDefault(),t.stopPropagation(),!1}),loadScript("//connect.facebook.net/"+LOCALE+"/sdk.js","facebook-jssdk",function(){FB.init({appId:atob("ODYxOTI2ODUwNjE5MDUx"),cookie:!0,xfbml:!0,status:!0,version:"v8.0"})}),loadScript("//apis.google.com/js/api:client.js",null,function(){gapi.load("auth2",function(){GoogleAuth=gapi.auth2.init({client_id:atob("OTU5NDI1MTkyMTM4LXFqcTIzbDllMG9oOGxnZDJpY25ibHJiZmJsYXI0YTJmLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29t")})})}),loadScript("//vk.com/js/api/openapi.js?127",null,function(){VK.init({apiId:5607778}),$("#__vk_like").length&&VK.Widgets.Like("__vk_like",{redesign:1,type:"mini",height:20}),$("#__vk_subscribe").length&&VK.Widgets.Subscribe("__vk_subscribe",{mode:1,soft:1},-124481002)}),loadScript("//platform.twitter.com/widgets.js","twitter-wjs"),loadScript("//vk.com/js/api/share.js?90"),loadScript("//apis.google.com/js/platform.js"),_anApp=Application(),_anApp.v();var loopFunc=function t(){requestAnimationFrame(t),getApp().Pa()};loopFunc();var __resize=function(){var t=j_body.width(),e=j_body.height(),i=j_stretchBox.outerWidth(),o=j_stretchBox.outerHeight(),n=j_markupHeader.outerHeight(),r=j_markupFooter.outerHeight(),s=Math.min(1,Math.min((e-r-n)/o,t/i)),a="translate(-50%, -50%) scale("+s+")";j_stretchBox.css({"-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a}),getApp().Ra(),window.scrollTo(0,1)},j_body=$("body"),j_stretchBox=$("#stretch-box"),j_markupHeader=$("#markup-header"),j_markupFooter=$("#markup-footer");__resize(),$(window).resize(__resize)}()})});